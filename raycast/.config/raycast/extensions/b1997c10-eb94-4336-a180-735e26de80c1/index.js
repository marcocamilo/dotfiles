"use strict";var wu=Object.create;var Cr=Object.defineProperty;var Ru=Object.getOwnPropertyDescriptor;var Tu=Object.getOwnPropertyNames;var Cu=Object.getPrototypeOf,Eu=Object.prototype.hasOwnProperty;var It=(n,r)=>()=>(n&&(r=n(n=0)),r);var k=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Ci=(n,r)=>{for(var o in r)Cr(n,o,{get:r[o],enumerable:!0})},Ei=(n,r,o,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Tu(r))!Eu.call(n,a)&&a!==o&&Cr(n,a,{get:()=>r[a],enumerable:!(s=Ru(r,a))||s.enumerable});return n};var ue=(n,r,o)=>(o=n!=null?wu(Cu(n)):{},Ei(r||!n||!n.__esModule?Cr(o,"default",{value:n,enumerable:!0}):o,n)),Pu=n=>Ei(Cr({},"__esModule",{value:!0}),n);var ki=k((Kf,Bi)=>{Bi.exports=vi;vi.sync=vu;var Pi=require("fs");function Au(n,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var s=0;s<o.length;s++){var a=o[s].toLowerCase();if(a&&n.substr(-a.length).toLowerCase()===a)return!0}return!1}function Ai(n,r,o){return!n.isSymbolicLink()&&!n.isFile()?!1:Au(r,o)}function vi(n,r,o){Pi.stat(n,function(s,a){o(s,s?!1:Ai(a,n,r))})}function vu(n,r){return Ai(Pi.statSync(n),n,r)}});var Wi=k((Xf,qi)=>{qi.exports=Oi;Oi.sync=Bu;var Ii=require("fs");function Oi(n,r,o){Ii.stat(n,function(s,a){o(s,s?!1:xi(a,r))})}function Bu(n,r){return xi(Ii.statSync(n),r)}function xi(n,r){return n.isFile()&&ku(n,r)}function ku(n,r){var o=n.mode,s=n.uid,a=n.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),f=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),p=parseInt("100",8),g=parseInt("010",8),h=parseInt("001",8),w=p|g,T=o&h||o&g&&a===f||o&p&&s===u||o&w&&u===0;return T}});var Li=k((Jf,Fi)=>{var Zf=require("fs"),Er;process.platform==="win32"||global.TESTING_WINDOWS?Er=ki():Er=Wi();Fi.exports=Bn;Bn.sync=Iu;function Bn(n,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(s,a){Bn(n,r||{},function(u,f){u?a(u):s(f)})})}Er(n,r||{},function(s,a){s&&(s.code==="EACCES"||r&&r.ignoreErrors)&&(s=null,a=!1),o(s,a)})}function Iu(n,r){try{return Er.sync(n,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var Ui=k((ed,Ni)=>{var ot=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Di=require("path"),Ou=ot?";":":",$i=Li(),zi=n=>Object.assign(new Error(`not found: ${n}`),{code:"ENOENT"}),Mi=(n,r)=>{let o=r.colon||Ou,s=n.match(/\//)||ot&&n.match(/\\/)?[""]:[...ot?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],a=ot?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=ot?a.split(o):[""];return ot&&n.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:s,pathExt:u,pathExtExe:a}},ji=(n,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:s,pathExt:a,pathExtExe:u}=Mi(n,r),f=[],p=h=>new Promise((w,T)=>{if(h===s.length)return r.all&&f.length?w(f):T(zi(n));let S=s[h],y=/^".*"$/.test(S)?S.slice(1,-1):S,b=Di.join(y,n),C=!y&&/^\.[\\\/]/.test(n)?n.slice(0,2)+b:b;w(g(C,h,0))}),g=(h,w,T)=>new Promise((S,y)=>{if(T===a.length)return S(p(w+1));let b=a[T];$i(h+b,{pathExt:u},(C,A)=>{if(!C&&A)if(r.all)f.push(h+b);else return S(h+b);return S(g(h,w,T+1))})});return o?p(0).then(h=>o(null,h),o):p(0)},xu=(n,r)=>{r=r||{};let{pathEnv:o,pathExt:s,pathExtExe:a}=Mi(n,r),u=[];for(let f=0;f<o.length;f++){let p=o[f],g=/^".*"$/.test(p)?p.slice(1,-1):p,h=Di.join(g,n),w=!g&&/^\.[\\\/]/.test(n)?n.slice(0,2)+h:h;for(let T=0;T<s.length;T++){let S=w+s[T];try{if($i.sync(S,{pathExt:a}))if(r.all)u.push(S);else return S}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw zi(n)};Ni.exports=ji;ji.sync=xu});var In=k((td,kn)=>{"use strict";var Hi=(n={})=>{let r=n.env||process.env;return(n.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(s=>s.toUpperCase()==="PATH")||"Path"};kn.exports=Hi;kn.exports.default=Hi});var Qi=k((rd,Yi)=>{"use strict";var Gi=require("path"),qu=Ui(),Wu=In();function Vi(n,r){let o=n.options.env||process.env,s=process.cwd(),a=n.options.cwd!=null,u=a&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(n.options.cwd)}catch{}let f;try{f=qu.sync(n.command,{path:o[Wu({env:o})],pathExt:r?Gi.delimiter:void 0})}catch{}finally{u&&process.chdir(s)}return f&&(f=Gi.resolve(a?n.options.cwd:"",f)),f}function Fu(n){return Vi(n)||Vi(n,!0)}Yi.exports=Fu});var Ki=k((nd,xn)=>{"use strict";var On=/([()\][%!^"`<>&|;, *?])/g;function Lu(n){return n=n.replace(On,"^$1"),n}function Du(n,r){return n=`${n}`,n=n.replace(/(\\*)"/g,'$1$1\\"'),n=n.replace(/(\\*)$/,"$1$1"),n=`"${n}"`,n=n.replace(On,"^$1"),r&&(n=n.replace(On,"^$1")),n}xn.exports.command=Lu;xn.exports.argument=Du});var Zi=k((od,Xi)=>{"use strict";Xi.exports=/^#!(.*)/});var es=k((id,Ji)=>{"use strict";var $u=Zi();Ji.exports=(n="")=>{let r=n.match($u);if(!r)return null;let[o,s]=r[0].replace(/#! ?/,"").split(" "),a=o.split("/").pop();return a==="env"?s:s?`${a} ${s}`:a}});var rs=k((sd,ts)=>{"use strict";var qn=require("fs"),zu=es();function Mu(n){let o=Buffer.alloc(150),s;try{s=qn.openSync(n,"r"),qn.readSync(s,o,0,150,0),qn.closeSync(s)}catch{}return zu(o.toString())}ts.exports=Mu});var ss=k((ad,is)=>{"use strict";var ju=require("path"),ns=Qi(),os=Ki(),Nu=rs(),Uu=process.platform==="win32",Hu=/\.(?:com|exe)$/i,Gu=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Vu(n){n.file=ns(n);let r=n.file&&Nu(n.file);return r?(n.args.unshift(n.file),n.command=r,ns(n)):n.file}function Yu(n){if(!Uu)return n;let r=Vu(n),o=!Hu.test(r);if(n.options.forceShell||o){let s=Gu.test(r);n.command=ju.normalize(n.command),n.command=os.command(n.command),n.args=n.args.map(u=>os.argument(u,s));let a=[n.command].concat(n.args).join(" ");n.args=["/d","/s","/c",`"${a}"`],n.command=process.env.comspec||"cmd.exe",n.options.windowsVerbatimArguments=!0}return n}function Qu(n,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let s={command:n,args:r,options:o,file:void 0,original:{command:n,args:r}};return o.shell?s:Yu(s)}is.exports=Qu});var us=k((ld,ls)=>{"use strict";var Wn=process.platform==="win32";function Fn(n,r){return Object.assign(new Error(`${r} ${n.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${n.command}`,path:n.command,spawnargs:n.args})}function Ku(n,r){if(!Wn)return;let o=n.emit;n.emit=function(s,a){if(s==="exit"){let u=as(a,r,"spawn");if(u)return o.call(n,"error",u)}return o.apply(n,arguments)}}function as(n,r){return Wn&&n===1&&!r.file?Fn(r.original,"spawn"):null}function Xu(n,r){return Wn&&n===1&&!r.file?Fn(r.original,"spawnSync"):null}ls.exports={hookChildProcess:Ku,verifyENOENT:as,verifyENOENTSync:Xu,notFoundError:Fn}});var ds=k((ud,it)=>{"use strict";var cs=require("child_process"),Ln=ss(),Dn=us();function fs(n,r,o){let s=Ln(n,r,o),a=cs.spawn(s.command,s.args,s.options);return Dn.hookChildProcess(a,s),a}function Zu(n,r,o){let s=Ln(n,r,o),a=cs.spawnSync(s.command,s.args,s.options);return a.error=a.error||Dn.verifyENOENTSync(a.status,s),a}it.exports=fs;it.exports.spawn=fs;it.exports.sync=Zu;it.exports._parse=Ln;it.exports._enoent=Dn});var hs=k((cd,ms)=>{"use strict";ms.exports=n=>{let r=typeof n=="string"?`
`:`
`.charCodeAt(),o=typeof n=="string"?"\r":"\r".charCodeAt();return n[n.length-1]===r&&(n=n.slice(0,n.length-1)),n[n.length-1]===o&&(n=n.slice(0,n.length-1)),n}});var ys=k((fd,xt)=>{"use strict";var Ot=require("path"),ps=In(),bs=n=>{n={cwd:process.cwd(),path:process.env[ps()],execPath:process.execPath,...n};let r,o=Ot.resolve(n.cwd),s=[];for(;r!==o;)s.push(Ot.join(o,"node_modules/.bin")),r=o,o=Ot.resolve(o,"..");let a=Ot.resolve(n.cwd,n.execPath,"..");return s.push(a),s.concat(n.path).join(Ot.delimiter)};xt.exports=bs;xt.exports.default=bs;xt.exports.env=n=>{n={env:process.env,...n};let r={...n.env},o=ps({env:r});return n.path=r[o],r[o]=xt.exports(n),r}});var Ss=k((dd,$n)=>{"use strict";var gs=(n,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o));return n};$n.exports=gs;$n.exports.default=gs});var ws=k((md,Ar)=>{"use strict";var Ju=Ss(),Pr=new WeakMap,_s=(n,r={})=>{if(typeof n!="function")throw new TypeError("Expected a function");let o,s=0,a=n.displayName||n.name||"<anonymous>",u=function(...f){if(Pr.set(u,++s),s===1)o=n.apply(this,f),n=null;else if(r.throw===!0)throw new Error(`Function \`${a}\` can only be called once`);return o};return Ju(u,n),Pr.set(u,s),u};Ar.exports=_s;Ar.exports.default=_s;Ar.exports.callCount=n=>{if(!Pr.has(n))throw new Error(`The given function \`${n.name}\` is not wrapped by the \`onetime\` package`);return Pr.get(n)}});var Rs=k(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.SIGNALS=void 0;var ec=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];vr.SIGNALS=ec});var zn=k(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.SIGRTMAX=st.getRealtimeSignals=void 0;var tc=function(){let n=Cs-Ts+1;return Array.from({length:n},rc)};st.getRealtimeSignals=tc;var rc=function(n,r){return{name:`SIGRT${r+1}`,number:Ts+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Ts=34,Cs=64;st.SIGRTMAX=Cs});var Es=k(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.getSignals=void 0;var nc=require("os"),oc=Rs(),ic=zn(),sc=function(){let n=(0,ic.getRealtimeSignals)();return[...oc.SIGNALS,...n].map(ac)};Br.getSignals=sc;var ac=function({name:n,number:r,description:o,action:s,forced:a=!1,standard:u}){let{signals:{[n]:f}}=nc.constants,p=f!==void 0;return{name:n,number:p?f:r,description:o,supported:p,action:s,forced:a,standard:u}}});var As=k(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.signalsByNumber=at.signalsByName=void 0;var lc=require("os"),Ps=Es(),uc=zn(),cc=function(){return(0,Ps.getSignals)().reduce(fc,{})},fc=function(n,{name:r,number:o,description:s,supported:a,action:u,forced:f,standard:p}){return{...n,[r]:{name:r,number:o,description:s,supported:a,action:u,forced:f,standard:p}}},dc=cc();at.signalsByName=dc;var mc=function(){let n=(0,Ps.getSignals)(),r=uc.SIGRTMAX+1,o=Array.from({length:r},(s,a)=>hc(a,n));return Object.assign({},...o)},hc=function(n,r){let o=pc(n,r);if(o===void 0)return{};let{name:s,description:a,supported:u,action:f,forced:p,standard:g}=o;return{[n]:{name:s,number:n,description:a,supported:u,action:f,forced:p,standard:g}}},pc=function(n,r){let o=r.find(({name:s})=>lc.constants.signals[s]===n);return o!==void 0?o:r.find(s=>s.number===n)},bc=mc();at.signalsByNumber=bc});var Bs=k((gd,vs)=>{"use strict";var{signalsByName:yc}=As(),gc=({timedOut:n,timeout:r,errorCode:o,signal:s,signalDescription:a,exitCode:u,isCanceled:f})=>n?`timed out after ${r} milliseconds`:f?"was canceled":o!==void 0?`failed with ${o}`:s!==void 0?`was killed with ${s} (${a})`:u!==void 0?`failed with exit code ${u}`:"failed",Sc=({stdout:n,stderr:r,all:o,error:s,signal:a,exitCode:u,command:f,escapedCommand:p,timedOut:g,isCanceled:h,killed:w,parsed:{options:{timeout:T}}})=>{u=u===null?void 0:u,a=a===null?void 0:a;let S=a===void 0?void 0:yc[a].description,y=s&&s.code,C=`Command ${gc({timedOut:g,timeout:T,errorCode:y,signal:a,signalDescription:S,exitCode:u,isCanceled:h})}: ${f}`,A=Object.prototype.toString.call(s)==="[object Error]",v=A?`${C}
${s.message}`:C,q=[v,r,n].filter(Boolean).join(`
`);return A?(s.originalMessage=s.message,s.message=q):s=new Error(q),s.shortMessage=v,s.command=f,s.escapedCommand=p,s.exitCode=u,s.signal=a,s.signalDescription=S,s.stdout=n,s.stderr=r,o!==void 0&&(s.all=o),"bufferedData"in s&&delete s.bufferedData,s.failed=!0,s.timedOut=Boolean(g),s.isCanceled=h,s.killed=w&&!g,s};vs.exports=Sc});var Is=k((Sd,Mn)=>{"use strict";var kr=["stdin","stdout","stderr"],_c=n=>kr.some(r=>n[r]!==void 0),ks=n=>{if(!n)return;let{stdio:r}=n;if(r===void 0)return kr.map(s=>n[s]);if(_c(n))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${kr.map(s=>`\`${s}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,kr.length);return Array.from({length:o},(s,a)=>r[a])};Mn.exports=ks;Mn.exports.node=n=>{let r=ks(n);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var Os=k((_d,Ir)=>{Ir.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Ir.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ir.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Ls=k((wd,ct)=>{var z=global.process,$e=function(n){return n&&typeof n=="object"&&typeof n.removeListener=="function"&&typeof n.emit=="function"&&typeof n.reallyExit=="function"&&typeof n.listeners=="function"&&typeof n.kill=="function"&&typeof n.pid=="number"&&typeof n.on=="function"};$e(z)?(xs=require("assert"),lt=Os(),qs=/^win/i.test(z.platform),qt=require("events"),typeof qt!="function"&&(qt=qt.EventEmitter),z.__signal_exit_emitter__?N=z.__signal_exit_emitter__:(N=z.__signal_exit_emitter__=new qt,N.count=0,N.emitted={}),N.infinite||(N.setMaxListeners(1/0),N.infinite=!0),ct.exports=function(n,r){if(!$e(global.process))return function(){};xs.equal(typeof n,"function","a callback must be provided for exit handler"),ut===!1&&jn();var o="exit";r&&r.alwaysLast&&(o="afterexit");var s=function(){N.removeListener(o,n),N.listeners("exit").length===0&&N.listeners("afterexit").length===0&&Or()};return N.on(o,n),s},Or=function(){!ut||!$e(global.process)||(ut=!1,lt.forEach(function(r){try{z.removeListener(r,xr[r])}catch{}}),z.emit=qr,z.reallyExit=Nn,N.count-=1)},ct.exports.unload=Or,ze=function(r,o,s){N.emitted[r]||(N.emitted[r]=!0,N.emit(r,o,s))},xr={},lt.forEach(function(n){xr[n]=function(){if(!!$e(global.process)){var o=z.listeners(n);o.length===N.count&&(Or(),ze("exit",null,n),ze("afterexit",null,n),qs&&n==="SIGHUP"&&(n="SIGINT"),z.kill(z.pid,n))}}}),ct.exports.signals=function(){return lt},ut=!1,jn=function(){ut||!$e(global.process)||(ut=!0,N.count+=1,lt=lt.filter(function(r){try{return z.on(r,xr[r]),!0}catch{return!1}}),z.emit=Fs,z.reallyExit=Ws)},ct.exports.load=jn,Nn=z.reallyExit,Ws=function(r){!$e(global.process)||(z.exitCode=r||0,ze("exit",z.exitCode,null),ze("afterexit",z.exitCode,null),Nn.call(z,z.exitCode))},qr=z.emit,Fs=function(r,o){if(r==="exit"&&$e(global.process)){o!==void 0&&(z.exitCode=o);var s=qr.apply(this,arguments);return ze("exit",z.exitCode,null),ze("afterexit",z.exitCode,null),s}else return qr.apply(this,arguments)}):ct.exports=function(){return function(){}};var xs,lt,qs,qt,N,Or,ze,xr,ut,jn,Nn,Ws,qr,Fs});var $s=k((Rd,Ds)=>{"use strict";var wc=require("os"),Rc=Ls(),Tc=1e3*5,Cc=(n,r="SIGTERM",o={})=>{let s=n(r);return Ec(n,r,o,s),s},Ec=(n,r,o,s)=>{if(!Pc(r,o,s))return;let a=vc(o),u=setTimeout(()=>{n("SIGKILL")},a);u.unref&&u.unref()},Pc=(n,{forceKillAfterTimeout:r},o)=>Ac(n)&&r!==!1&&o,Ac=n=>n===wc.constants.signals.SIGTERM||typeof n=="string"&&n.toUpperCase()==="SIGTERM",vc=({forceKillAfterTimeout:n=!0})=>{if(n===!0)return Tc;if(!Number.isFinite(n)||n<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`);return n},Bc=(n,r)=>{n.kill()&&(r.isCanceled=!0)},kc=(n,r,o)=>{n.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},Ic=(n,{timeout:r,killSignal:o="SIGTERM"},s)=>{if(r===0||r===void 0)return s;let a,u=new Promise((p,g)=>{a=setTimeout(()=>{kc(n,o,g)},r)}),f=s.finally(()=>{clearTimeout(a)});return Promise.race([u,f])},Oc=({timeout:n})=>{if(n!==void 0&&(!Number.isFinite(n)||n<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`)},xc=async(n,{cleanup:r,detached:o},s)=>{if(!r||o)return s;let a=Rc(()=>{n.kill()});return s.finally(()=>{a()})};Ds.exports={spawnedKill:Cc,spawnedCancel:Bc,setupTimeout:Ic,validateTimeout:Oc,setExitHandler:xc}});var Ms=k((Td,zs)=>{"use strict";var de=n=>n!==null&&typeof n=="object"&&typeof n.pipe=="function";de.writable=n=>de(n)&&n.writable!==!1&&typeof n._write=="function"&&typeof n._writableState=="object";de.readable=n=>de(n)&&n.readable!==!1&&typeof n._read=="function"&&typeof n._readableState=="object";de.duplex=n=>de.writable(n)&&de.readable(n);de.transform=n=>de.duplex(n)&&typeof n._transform=="function";zs.exports=de});var Ns=k((Cd,js)=>{"use strict";var{PassThrough:qc}=require("stream");js.exports=n=>{n={...n};let{array:r}=n,{encoding:o}=n,s=o==="buffer",a=!1;r?a=!(o||s):o=o||"utf8",s&&(o=null);let u=new qc({objectMode:a});o&&u.setEncoding(o);let f=0,p=[];return u.on("data",g=>{p.push(g),a?f=p.length:f+=g.length}),u.getBufferedValue=()=>r?p:s?Buffer.concat(p,f):p.join(""),u.getBufferedLength=()=>f,u}});var Us=k((Ed,Wt)=>{"use strict";var{constants:Wc}=require("buffer"),Fc=require("stream"),{promisify:Lc}=require("util"),Dc=Ns(),$c=Lc(Fc.pipeline),Wr=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Un(n,r){if(!n)throw new Error("Expected a stream");r={maxBuffer:1/0,...r};let{maxBuffer:o}=r,s=Dc(r);return await new Promise((a,u)=>{let f=p=>{p&&s.getBufferedLength()<=Wc.MAX_LENGTH&&(p.bufferedData=s.getBufferedValue()),u(p)};(async()=>{try{await $c(n,s),a()}catch(p){f(p)}})(),s.on("data",()=>{s.getBufferedLength()>o&&f(new Wr)})}),s.getBufferedValue()}Wt.exports=Un;Wt.exports.buffer=(n,r)=>Un(n,{...r,encoding:"buffer"});Wt.exports.array=(n,r)=>Un(n,{...r,array:!0});Wt.exports.MaxBufferError=Wr});var Gs=k((Pd,Hs)=>{"use strict";var{PassThrough:zc}=require("stream");Hs.exports=function(){var n=[],r=new zc({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=s,r.on("unpipe",a),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(n.push(u),u.once("end",a.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function s(){return n.length==0}function a(u){n=n.filter(function(f){return f!==u}),!n.length&&r.readable&&r.end()}}});var Ks=k((Ad,Qs)=>{"use strict";var Ys=Ms(),Vs=Us(),Mc=Gs(),jc=(n,r)=>{r===void 0||n.stdin===void 0||(Ys(r)?r.pipe(n.stdin):n.stdin.end(r))},Nc=(n,{all:r})=>{if(!r||!n.stdout&&!n.stderr)return;let o=Mc();return n.stdout&&o.add(n.stdout),n.stderr&&o.add(n.stderr),o},Hn=async(n,r)=>{if(!!n){n.destroy();try{return await r}catch(o){return o.bufferedData}}},Gn=(n,{encoding:r,buffer:o,maxBuffer:s})=>{if(!(!n||!o))return r?Vs(n,{encoding:r,maxBuffer:s}):Vs.buffer(n,{maxBuffer:s})},Uc=async({stdout:n,stderr:r,all:o},{encoding:s,buffer:a,maxBuffer:u},f)=>{let p=Gn(n,{encoding:s,buffer:a,maxBuffer:u}),g=Gn(r,{encoding:s,buffer:a,maxBuffer:u}),h=Gn(o,{encoding:s,buffer:a,maxBuffer:u*2});try{return await Promise.all([f,p,g,h])}catch(w){return Promise.all([{error:w,signal:w.signal,timedOut:w.timedOut},Hn(n,p),Hn(r,g),Hn(o,h)])}},Hc=({input:n})=>{if(Ys(n))throw new TypeError("The `input` option cannot be a stream in sync mode")};Qs.exports={handleInput:jc,makeAllStream:Nc,getSpawnedResult:Uc,validateInputSync:Hc}});var Zs=k((vd,Xs)=>{"use strict";var Gc=(async()=>{})().constructor.prototype,Vc=["then","catch","finally"].map(n=>[n,Reflect.getOwnPropertyDescriptor(Gc,n)]),Yc=(n,r)=>{for(let[o,s]of Vc){let a=typeof r=="function"?(...u)=>Reflect.apply(s.value,r(),u):s.value.bind(r);Reflect.defineProperty(n,o,{...s,value:a})}return n},Qc=n=>new Promise((r,o)=>{n.on("exit",(s,a)=>{r({exitCode:s,signal:a})}),n.on("error",s=>{o(s)}),n.stdin&&n.stdin.on("error",s=>{o(s)})});Xs.exports={mergePromise:Yc,getSpawnedPromise:Qc}});var ta=k((Bd,ea)=>{"use strict";var Js=(n,r=[])=>Array.isArray(r)?[n,...r]:[n],Kc=/^[\w.-]+$/,Xc=/"/g,Zc=n=>typeof n!="string"||Kc.test(n)?n:`"${n.replace(Xc,'\\"')}"`,Jc=(n,r)=>Js(n,r).join(" "),ef=(n,r)=>Js(n,r).map(o=>Zc(o)).join(" "),tf=/ +/g,rf=n=>{let r=[];for(let o of n.trim().split(tf)){let s=r[r.length-1];s&&s.endsWith("\\")?r[r.length-1]=`${s.slice(0,-1)} ${o}`:r.push(o)}return r};ea.exports={joinCommand:Jc,getEscapedCommand:ef,parseCommand:rf}});var la=k((kd,ft)=>{"use strict";var nf=require("path"),Vn=require("child_process"),of=ds(),sf=hs(),af=ys(),lf=ws(),Fr=Bs(),na=Is(),{spawnedKill:uf,spawnedCancel:cf,setupTimeout:ff,validateTimeout:df,setExitHandler:mf}=$s(),{handleInput:hf,getSpawnedResult:pf,makeAllStream:bf,validateInputSync:yf}=Ks(),{mergePromise:ra,getSpawnedPromise:gf}=Zs(),{joinCommand:oa,parseCommand:ia,getEscapedCommand:sa}=ta(),Sf=1e3*1e3*100,_f=({env:n,extendEnv:r,preferLocal:o,localDir:s,execPath:a})=>{let u=r?{...process.env,...n}:n;return o?af.env({env:u,cwd:s,execPath:a}):u},aa=(n,r,o={})=>{let s=of._parse(n,r,o);return n=s.command,r=s.args,o=s.options,o={maxBuffer:Sf,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...o},o.env=_f(o),o.stdio=na(o),process.platform==="win32"&&nf.basename(n,".exe")==="cmd"&&r.unshift("/q"),{file:n,args:r,options:o,parsed:s}},Ft=(n,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":n.stripFinalNewline?sf(r):r,Lr=(n,r,o)=>{let s=aa(n,r,o),a=oa(n,r),u=sa(n,r);df(s.options);let f;try{f=Vn.spawn(s.file,s.args,s.options)}catch(y){let b=new Vn.ChildProcess,C=Promise.reject(Fr({error:y,stdout:"",stderr:"",all:"",command:a,escapedCommand:u,parsed:s,timedOut:!1,isCanceled:!1,killed:!1}));return ra(b,C)}let p=gf(f),g=ff(f,s.options,p),h=mf(f,s.options,g),w={isCanceled:!1};f.kill=uf.bind(null,f.kill.bind(f)),f.cancel=cf.bind(null,f,w);let S=lf(async()=>{let[{error:y,exitCode:b,signal:C,timedOut:A},v,q,j]=await pf(f,s.options,h),B=Ft(s.options,v),L=Ft(s.options,q),I=Ft(s.options,j);if(y||b!==0||C!==null){let oe=Fr({error:y,exitCode:b,signal:C,stdout:B,stderr:L,all:I,command:a,escapedCommand:u,parsed:s,timedOut:A,isCanceled:w.isCanceled,killed:f.killed});if(!s.options.reject)return oe;throw oe}return{command:a,escapedCommand:u,exitCode:0,stdout:B,stderr:L,all:I,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return hf(f,s.options.input),f.all=bf(f,s.options),ra(f,S)};ft.exports=Lr;ft.exports.sync=(n,r,o)=>{let s=aa(n,r,o),a=oa(n,r),u=sa(n,r);yf(s.options);let f;try{f=Vn.spawnSync(s.file,s.args,s.options)}catch(h){throw Fr({error:h,stdout:"",stderr:"",all:"",command:a,escapedCommand:u,parsed:s,timedOut:!1,isCanceled:!1,killed:!1})}let p=Ft(s.options,f.stdout,f.error),g=Ft(s.options,f.stderr,f.error);if(f.error||f.status!==0||f.signal!==null){let h=Fr({stdout:p,stderr:g,error:f.error,signal:f.signal,exitCode:f.status,command:a,escapedCommand:u,parsed:s,timedOut:f.error&&f.error.code==="ETIMEDOUT",isCanceled:!1,killed:f.signal!==null});if(!s.options.reject)return h;throw h}return{command:a,escapedCommand:u,exitCode:0,stdout:p,stderr:g,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};ft.exports.command=(n,r)=>{let[o,...s]=ia(n);return Lr(o,s,r)};ft.exports.commandSync=(n,r)=>{let[o,...s]=ia(n);return Lr.sync(o,s,r)};ft.exports.node=(n,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let s=na.node(o),a=process.execArgv.filter(p=>!p.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:f=a}=o;return Lr(u,[...f,n,...Array.isArray(r)?r:[]],{...o,stdin:void 0,stdout:void 0,stderr:void 0,stdio:s,shell:!1})}});var ma=k((zr,da)=>{(function(n,r){typeof zr=="object"&&typeof da<"u"?r(zr):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.WebStreamsPolyfill={}))})(zr,function(n){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function s(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let a=s();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let f=o,p=Promise,g=Promise.prototype.then,h=Promise.resolve.bind(p),w=Promise.reject.bind(p);function T(e){return new p(e)}function S(e){return h(e)}function y(e){return w(e)}function b(e,t,i){return g.call(e,t,i)}function C(e,t,i){b(b(e,t,i),void 0,f)}function A(e,t){C(e,t)}function v(e,t){C(e,void 0,t)}function q(e,t,i){return b(e,t,i)}function j(e){b(e,void 0,f)}let B=(()=>{let e=a&&a.queueMicrotask;if(typeof e=="function")return e;let t=S(void 0);return i=>b(t,i)})();function L(e,t,i){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}function I(e,t,i){try{return S(L(e,t,i))}catch(l){return y(l)}}let oe=16384;class Z{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let i=this._back,l=i;i._elements.length===oe-1&&(l={_elements:[],_next:void 0}),i._elements.push(t),l!==i&&(this._back=l,i._next=l),++this._size}shift(){let t=this._front,i=t,l=this._cursor,c=l+1,d=t._elements,m=d[l];return c===oe&&(i=t._next,c=0),--this._size,this._cursor=c,t!==i&&(this._front=i),d[l]=void 0,m}forEach(t){let i=this._cursor,l=this._front,c=l._elements;for(;(i!==c.length||l._next!==void 0)&&!(i===c.length&&(l=l._next,c=l._elements,i=0,c.length===0));)t(c[i]),++i}peek(){let t=this._front,i=this._cursor;return t._elements[i]}}function lo(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Xr(e):t._state==="closed"?Ka(e):uo(e,t._storedError)}function Kr(e,t){let i=e._ownerReadableStream;return ae(i,t)}function pe(e){e._ownerReadableStream._state==="readable"?Zr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Xa(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Ge(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Xr(e){e._closedPromise=T((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i})}function uo(e,t){Xr(e),Zr(e,t)}function Ka(e){Xr(e),co(e)}function Zr(e,t){e._closedPromise_reject!==void 0&&(j(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Xa(e,t){uo(e,t)}function co(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let fo=r("[[AbortSteps]]"),mo=r("[[ErrorSteps]]"),Jr=r("[[CancelSteps]]"),en=r("[[PullSteps]]"),ho=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Za=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Ja(e){return typeof e=="object"||typeof e=="function"}function be(e,t){if(e!==void 0&&!Ja(e))throw new TypeError(`${t} is not an object.`)}function ie(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function el(e){return typeof e=="object"&&e!==null||typeof e=="function"}function po(e,t){if(!el(e))throw new TypeError(`${t} is not an object.`)}function ye(e,t,i){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${i}'.`)}function tn(e,t,i){if(e===void 0)throw new TypeError(`${t} is required in '${i}'.`)}function rn(e){return Number(e)}function bo(e){return e===0?0:e}function tl(e){return bo(Za(e))}function yo(e,t){let l=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=bo(c),!ho(c))throw new TypeError(`${t} is not a finite number`);if(c=tl(c),c<0||c>l)throw new TypeError(`${t} is outside the accepted range of ${0} to ${l}, inclusive`);return!ho(c)||c===0?0:c}function nn(e,t){if(!ve(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Ve(e){return new bt(e)}function go(e,t){e._reader._readRequests.push(t)}function on(e,t,i){let c=e._reader._readRequests.shift();i?c._closeSteps():c._chunkSteps(t)}function Gt(e){return e._reader._readRequests.length}function So(e){let t=e._reader;return!(t===void 0||!Ce(t))}class bt{constructor(t){if(ye(t,1,"ReadableStreamDefaultReader"),nn(t,"First parameter"),Be(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");lo(this,t),this._readRequests=new Z}get closed(){return Ce(this)?this._closedPromise:y(Vt("closed"))}cancel(t=void 0){return Ce(this)?this._ownerReadableStream===void 0?y(Ge("cancel")):Kr(this,t):y(Vt("cancel"))}read(){if(!Ce(this))return y(Vt("read"));if(this._ownerReadableStream===void 0)return y(Ge("read from"));let t,i,l=T((d,m)=>{t=d,i=m});return yt(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>i(d)}),l}releaseLock(){if(!Ce(this))throw Vt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");pe(this)}}}Object.defineProperties(bt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ce(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof bt}function yt(e,t){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="closed"?t._closeSteps():i._state==="errored"?t._errorSteps(i._storedError):i._readableStreamController[en](t)}function Vt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let _o=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class wo{constructor(t,i){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=i}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?q(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let i=()=>this._returnSteps(t);return this._ongoingPromise?q(this._ongoingPromise,i,i):i()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return y(Ge("iterate"));let i,l,c=T((m,_)=>{i=m,l=_});return yt(t,{_chunkSteps:m=>{this._ongoingPromise=void 0,B(()=>i({value:m,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(t),i({value:void 0,done:!0})},_errorSteps:m=>{this._ongoingPromise=void 0,this._isFinished=!0,pe(t),l(m)}}),c}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let i=this._reader;if(i._ownerReadableStream===void 0)return y(Ge("finish iterating"));if(!this._preventCancel){let l=Kr(i,t);return pe(i),q(l,()=>({value:t,done:!0}))}return pe(i),S({value:t,done:!0})}}let Ro={next(){return To(this)?this._asyncIteratorImpl.next():y(Co("next"))},return(e){return To(this)?this._asyncIteratorImpl.return(e):y(Co("return"))}};_o!==void 0&&Object.setPrototypeOf(Ro,_o);function rl(e,t){let i=Ve(e),l=new wo(i,t),c=Object.create(Ro);return c._asyncIteratorImpl=l,c}function To(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof wo}catch{return!1}}function Co(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Eo=Number.isNaN||function(e){return e!==e};function gt(e){return e.slice()}function Po(e,t,i,l,c){new Uint8Array(e).set(new Uint8Array(i,l,c),t)}function Yf(e){return e}function Yt(e){return!1}function Ao(e,t,i){if(e.slice)return e.slice(t,i);let l=i-t,c=new ArrayBuffer(l);return Po(c,0,e,t,l),c}function nl(e){return!(typeof e!="number"||Eo(e)||e<0)}function vo(e){let t=Ao(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function sn(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function an(e,t,i){if(!nl(i)||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i}function ol(e){return e._queue.peek().value}function Ee(e){e._queue=new Z,e._queueTotalSize=0}class St{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ln(this))throw dn("view");return this._view}respond(t){if(!ln(this))throw dn("respond");if(ye(t,1,"respond"),t=yo(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Yt(this._view.buffer),Jt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!ln(this))throw dn("respondWithNewView");if(ye(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Yt(t.buffer),er(this._associatedReadableByteStreamController,t)}}Object.defineProperties(St.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(St.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ye{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!xe(this))throw wt("byobRequest");return fn(this)}get desiredSize(){if(!xe(this))throw wt("desiredSize");return Fo(this)}close(){if(!xe(this))throw wt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);_t(this)}enqueue(t){if(!xe(this))throw wt("enqueue");if(ye(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be enqueued to`);Zt(this,t)}error(t=void 0){if(!xe(this))throw wt("error");se(this,t)}[Jr](t){Bo(this),Ee(this);let i=this._cancelAlgorithm(t);return Xt(this),i}[en](t){let i=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,xo(this);let d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t._chunkSteps(d);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let c;try{c=new ArrayBuffer(l)}catch(m){t._errorSteps(m);return}let d={buffer:c,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}go(i,t),qe(this)}}Object.defineProperties(Ye.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ye.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function xe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Ye}function ln(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof St}function qe(e){if(!ll(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();C(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,qe(e))},l=>{se(e,l)})}function Bo(e){cn(e),e._pendingPullIntos=new Z}function un(e,t){let i=!1;e._state==="closed"&&(i=!0);let l=ko(t);t.readerType==="default"?on(e,l,i):fl(e,l,i)}function ko(e){let t=e.bytesFilled,i=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/i)}function Qt(e,t,i,l){e._queue.push({buffer:t,byteOffset:i,byteLength:l}),e._queueTotalSize+=l}function Io(e,t){let i=t.elementSize,l=t.bytesFilled-t.bytesFilled%i,c=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+c,m=d-d%i,_=c,P=!1;m>l&&(_=m-t.bytesFilled,P=!0);let x=e._queue;for(;_>0;){let W=x.peek(),F=Math.min(_,W.byteLength),M=t.byteOffset+t.bytesFilled;Po(t.buffer,M,W.buffer,W.byteOffset,F),W.byteLength===F?x.shift():(W.byteOffset+=F,W.byteLength-=F),e._queueTotalSize-=F,Oo(e,F,t),_-=F}return P}function Oo(e,t,i){i.bytesFilled+=t}function xo(e){e._queueTotalSize===0&&e._closeRequested?(Xt(e),Bt(e._controlledReadableByteStream)):qe(e)}function cn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function qo(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();Io(e,t)&&(Kt(e),un(e._controlledReadableByteStream,t))}}function il(e,t,i){let l=e._controlledReadableByteStream,c=1;t.constructor!==DataView&&(c=t.constructor.BYTES_PER_ELEMENT);let d=t.constructor,m=t.buffer,_={buffer:m,bufferByteLength:m.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:c,viewConstructor:d,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(_),$o(l,i);return}if(l._state==="closed"){let P=new d(_.buffer,_.byteOffset,0);i._closeSteps(P);return}if(e._queueTotalSize>0){if(Io(e,_)){let P=ko(_);xo(e),i._chunkSteps(P);return}if(e._closeRequested){let P=new TypeError("Insufficient bytes to fill elements in the given buffer");se(e,P),i._errorSteps(P);return}}e._pendingPullIntos.push(_),$o(l,i),qe(e)}function sl(e,t){let i=e._controlledReadableByteStream;if(mn(i))for(;zo(i)>0;){let l=Kt(e);un(i,l)}}function al(e,t,i){if(Oo(e,t,i),i.bytesFilled<i.elementSize)return;Kt(e);let l=i.bytesFilled%i.elementSize;if(l>0){let c=i.byteOffset+i.bytesFilled,d=Ao(i.buffer,c-l,c);Qt(e,d,0,d.byteLength)}i.bytesFilled-=l,un(e._controlledReadableByteStream,i),qo(e)}function Wo(e,t){let i=e._pendingPullIntos.peek();cn(e),e._controlledReadableByteStream._state==="closed"?sl(e):al(e,t,i),qe(e)}function Kt(e){return e._pendingPullIntos.shift()}function ll(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(So(t)&&Gt(t)>0||mn(t)&&zo(t)>0||Fo(e)>0)}function Xt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function _t(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw se(e,l),l}Xt(e),Bt(t)}}function Zt(e,t){let i=e._controlledReadableByteStream;if(e._closeRequested||i._state!=="readable")return;let l=t.buffer,c=t.byteOffset,d=t.byteLength,m=l;if(e._pendingPullIntos.length>0){let _=e._pendingPullIntos.peek();Yt(_.buffer),_.buffer=_.buffer}if(cn(e),So(i))if(Gt(i)===0)Qt(e,m,c,d);else{e._pendingPullIntos.length>0&&Kt(e);let _=new Uint8Array(m,c,d);on(i,_,!1)}else mn(i)?(Qt(e,m,c,d),qo(e)):Qt(e,m,c,d);qe(e)}function se(e,t){let i=e._controlledReadableByteStream;i._state==="readable"&&(Bo(e),Ee(e),Xt(e),ci(i,t))}function fn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),i=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),l=Object.create(St.prototype);cl(l,e,i),e._byobRequest=l}return e._byobRequest}function Fo(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Jt(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=i.buffer,Wo(e,t)}function er(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+t.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let c=t.byteLength;i.buffer=t.buffer,Wo(e,c)}function Lo(e,t,i,l,c,d,m){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ee(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,t._autoAllocateChunkSize=m,t._pendingPullIntos=new Z,e._readableStreamController=t;let _=i();C(S(_),()=>{t._started=!0,qe(t)},P=>{se(t,P)})}function ul(e,t,i){let l=Object.create(Ye.prototype),c=()=>{},d=()=>S(void 0),m=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(l)),t.pull!==void 0&&(d=()=>t.pull(l)),t.cancel!==void 0&&(m=P=>t.cancel(P));let _=t.autoAllocateChunkSize;if(_===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Lo(e,l,c,d,m,i,_)}function cl(e,t,i){e._associatedReadableByteStreamController=t,e._view=i}function dn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function wt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Do(e){return new Rt(e)}function $o(e,t){e._reader._readIntoRequests.push(t)}function fl(e,t,i){let c=e._reader._readIntoRequests.shift();i?c._closeSteps(t):c._chunkSteps(t)}function zo(e){return e._reader._readIntoRequests.length}function mn(e){let t=e._reader;return!(t===void 0||!We(t))}class Rt{constructor(t){if(ye(t,1,"ReadableStreamBYOBReader"),nn(t,"First parameter"),Be(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!xe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");lo(this,t),this._readIntoRequests=new Z}get closed(){return We(this)?this._closedPromise:y(tr("closed"))}cancel(t=void 0){return We(this)?this._ownerReadableStream===void 0?y(Ge("cancel")):Kr(this,t):y(tr("cancel"))}read(t){if(!We(this))return y(tr("read"));if(!ArrayBuffer.isView(t))return y(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return y(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return y(new TypeError("view's buffer must have non-zero byteLength"));if(Yt(t.buffer),this._ownerReadableStream===void 0)return y(Ge("read from"));let i,l,c=T((m,_)=>{i=m,l=_});return Mo(this,t,{_chunkSteps:m=>i({value:m,done:!1}),_closeSteps:m=>i({value:m,done:!0}),_errorSteps:m=>l(m)}),c}releaseLock(){if(!We(this))throw tr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");pe(this)}}}Object.defineProperties(Rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function We(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Rt}function Mo(e,t,i){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?i._errorSteps(l._storedError):il(l._readableStreamController,t,i)}function tr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Tt(e,t){let{highWaterMark:i}=e;if(i===void 0)return t;if(Eo(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function rr(e){let{size:t}=e;return t||(()=>1)}function nr(e,t){be(e,t);let i=e?.highWaterMark,l=e?.size;return{highWaterMark:i===void 0?void 0:rn(i),size:l===void 0?void 0:dl(l,`${t} has member 'size' that`)}}function dl(e,t){return ie(e,t),i=>rn(e(i))}function ml(e,t){be(e,t);let i=e?.abort,l=e?.close,c=e?.start,d=e?.type,m=e?.write;return{abort:i===void 0?void 0:hl(i,e,`${t} has member 'abort' that`),close:l===void 0?void 0:pl(l,e,`${t} has member 'close' that`),start:c===void 0?void 0:bl(c,e,`${t} has member 'start' that`),write:m===void 0?void 0:yl(m,e,`${t} has member 'write' that`),type:d}}function hl(e,t,i){return ie(e,i),l=>I(e,t,[l])}function pl(e,t,i){return ie(e,i),()=>I(e,t,[])}function bl(e,t,i){return ie(e,i),l=>L(e,t,[l])}function yl(e,t,i){return ie(e,i),(l,c)=>I(e,t,[l,c])}function jo(e,t){if(!Qe(e))throw new TypeError(`${t} is not a WritableStream.`)}function gl(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let Sl=typeof AbortController=="function";function _l(){if(Sl)return new AbortController}class Ct{constructor(t={},i={}){t===void 0?t=null:po(t,"First parameter");let l=nr(i,"Second parameter"),c=ml(t,"First parameter");if(Uo(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let m=rr(l),_=Tt(l,1);ql(this,c,_,m)}get locked(){if(!Qe(this))throw lr("locked");return Ke(this)}abort(t=void 0){return Qe(this)?Ke(this)?y(new TypeError("Cannot abort a stream that already has a writer")):or(this,t):y(lr("abort"))}close(){return Qe(this)?Ke(this)?y(new TypeError("Cannot close a stream that already has a writer")):fe(this)?y(new TypeError("Cannot close an already-closing stream")):Ho(this):y(lr("close"))}getWriter(){if(!Qe(this))throw lr("getWriter");return No(this)}}Object.defineProperties(Ct.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function No(e){return new Et(e)}function wl(e,t,i,l,c=1,d=()=>1){let m=Object.create(Ct.prototype);Uo(m);let _=Object.create(Xe.prototype);return Xo(m,_,e,t,i,l,c,d),m}function Uo(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Z,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Qe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Ct}function Ke(e){return e._writer!==void 0}function or(e,t){var i;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(i=e._writableStreamController._abortController)===null||i===void 0||i.abort();let l=e._state;if(l==="closed"||l==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;l==="erroring"&&(c=!0,t=void 0);let d=T((m,_)=>{e._pendingAbortRequest={_promise:void 0,_resolve:m,_reject:_,_reason:t,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=d,c||pn(e,t),d}function Ho(e){let t=e._state;if(t==="closed"||t==="errored")return y(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let i=T((c,d)=>{let m={_resolve:c,_reject:d};e._closeRequest=m}),l=e._writer;return l!==void 0&&e._backpressure&&t==="writable"&&Cn(l),Wl(e._writableStreamController),i}function Rl(e){return T((i,l)=>{let c={_resolve:i,_reject:l};e._writeRequests.push(c)})}function hn(e,t){if(e._state==="writable"){pn(e,t);return}bn(e)}function pn(e,t){let i=e._writableStreamController;e._state="erroring",e._storedError=t;let l=e._writer;l!==void 0&&Vo(l,t),!Al(e)&&i._started&&bn(e)}function bn(e){e._state="errored",e._writableStreamController[mo]();let t=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(t)}),e._writeRequests=new Z,e._pendingAbortRequest===void 0){ir(e);return}let i=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,i._wasAlreadyErroring){i._reject(t),ir(e);return}let l=e._writableStreamController[fo](i._reason);C(l,()=>{i._resolve(),ir(e)},c=>{i._reject(c),ir(e)})}function Tl(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Cl(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,hn(e,t)}function El(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let i=e._writer;i!==void 0&&ti(i)}function Pl(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),hn(e,t)}function fe(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Al(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function vl(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Bl(e){e._inFlightWriteRequest=e._writeRequests.shift()}function ir(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&Rn(t,e._storedError)}function yn(e,t){let i=e._writer;i!==void 0&&t!==e._backpressure&&(t?jl(i):Cn(i)),e._backpressure=t}class Et{constructor(t){if(ye(t,1,"WritableStreamDefaultWriter"),jo(t,"First parameter"),Ke(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let i=t._state;if(i==="writable")!fe(t)&&t._backpressure?cr(this):ri(this),ur(this);else if(i==="erroring")Tn(this,t._storedError),ur(this);else if(i==="closed")ri(this),zl(this);else{let l=t._storedError;Tn(this,l),ei(this,l)}}get closed(){return Fe(this)?this._closedPromise:y(Le("closed"))}get desiredSize(){if(!Fe(this))throw Le("desiredSize");if(this._ownerWritableStream===void 0)throw Pt("desiredSize");return xl(this)}get ready(){return Fe(this)?this._readyPromise:y(Le("ready"))}abort(t=void 0){return Fe(this)?this._ownerWritableStream===void 0?y(Pt("abort")):kl(this,t):y(Le("abort"))}close(){if(!Fe(this))return y(Le("close"));let t=this._ownerWritableStream;return t===void 0?y(Pt("close")):fe(t)?y(new TypeError("Cannot close an already-closing stream")):Go(this)}releaseLock(){if(!Fe(this))throw Le("releaseLock");this._ownerWritableStream!==void 0&&Yo(this)}write(t=void 0){return Fe(this)?this._ownerWritableStream===void 0?y(Pt("write to")):Qo(this,t):y(Le("write"))}}Object.defineProperties(Et.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Fe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Et}function kl(e,t){let i=e._ownerWritableStream;return or(i,t)}function Go(e){let t=e._ownerWritableStream;return Ho(t)}function Il(e){let t=e._ownerWritableStream,i=t._state;return fe(t)||i==="closed"?S(void 0):i==="errored"?y(t._storedError):Go(e)}function Ol(e,t){e._closedPromiseState==="pending"?Rn(e,t):Ml(e,t)}function Vo(e,t){e._readyPromiseState==="pending"?ni(e,t):Nl(e,t)}function xl(e){let t=e._ownerWritableStream,i=t._state;return i==="errored"||i==="erroring"?null:i==="closed"?0:Zo(t._writableStreamController)}function Yo(e){let t=e._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Vo(e,i),Ol(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function Qo(e,t){let i=e._ownerWritableStream,l=i._writableStreamController,c=Fl(l,t);if(i!==e._ownerWritableStream)return y(Pt("write to"));let d=i._state;if(d==="errored")return y(i._storedError);if(fe(i)||d==="closed")return y(new TypeError("The stream is closing or closed and cannot be written to"));if(d==="erroring")return y(i._storedError);let m=Rl(i);return Ll(l,t,c),m}let Ko={};class Xe{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!gn(this))throw wn("abortReason");return this._abortReason}get signal(){if(!gn(this))throw wn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!gn(this))throw wn("error");this._controlledWritableStream._state==="writable"&&Jo(this,t)}[fo](t){let i=this._abortAlgorithm(t);return sr(this),i}[mo](){Ee(this)}}Object.defineProperties(Xe.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Xe.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function gn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Xe}function Xo(e,t,i,l,c,d,m,_){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._abortReason=void 0,t._abortController=_l(),t._started=!1,t._strategySizeAlgorithm=_,t._strategyHWM=m,t._writeAlgorithm=l,t._closeAlgorithm=c,t._abortAlgorithm=d;let P=_n(t);yn(e,P);let x=i(),W=S(x);C(W,()=>{t._started=!0,ar(t)},F=>{t._started=!0,hn(e,F)})}function ql(e,t,i,l){let c=Object.create(Xe.prototype),d=()=>{},m=()=>S(void 0),_=()=>S(void 0),P=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.write!==void 0&&(m=x=>t.write(x,c)),t.close!==void 0&&(_=()=>t.close()),t.abort!==void 0&&(P=x=>t.abort(x)),Xo(e,c,d,m,_,P,i,l)}function sr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Wl(e){an(e,Ko,0),ar(e)}function Fl(e,t){try{return e._strategySizeAlgorithm(t)}catch(i){return Sn(e,i),1}}function Zo(e){return e._strategyHWM-e._queueTotalSize}function Ll(e,t,i){try{an(e,t,i)}catch(c){Sn(e,c);return}let l=e._controlledWritableStream;if(!fe(l)&&l._state==="writable"){let c=_n(e);yn(l,c)}ar(e)}function ar(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){bn(t);return}if(e._queue.length===0)return;let l=ol(e);l===Ko?Dl(e):$l(e,l)}function Sn(e,t){e._controlledWritableStream._state==="writable"&&Jo(e,t)}function Dl(e){let t=e._controlledWritableStream;vl(t),sn(e);let i=e._closeAlgorithm();sr(e),C(i,()=>{El(t)},l=>{Pl(t,l)})}function $l(e,t){let i=e._controlledWritableStream;Bl(i);let l=e._writeAlgorithm(t);C(l,()=>{Tl(i);let c=i._state;if(sn(e),!fe(i)&&c==="writable"){let d=_n(e);yn(i,d)}ar(e)},c=>{i._state==="writable"&&sr(e),Cl(i,c)})}function _n(e){return Zo(e)<=0}function Jo(e,t){let i=e._controlledWritableStream;sr(e),pn(i,t)}function lr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function wn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Le(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Pt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function ur(e){e._closedPromise=T((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function ei(e,t){ur(e),Rn(e,t)}function zl(e){ur(e),ti(e)}function Rn(e,t){e._closedPromise_reject!==void 0&&(j(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ml(e,t){ei(e,t)}function ti(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function cr(e){e._readyPromise=T((t,i)=>{e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}function Tn(e,t){cr(e),ni(e,t)}function ri(e){cr(e),Cn(e)}function ni(e,t){e._readyPromise_reject!==void 0&&(j(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function jl(e){cr(e)}function Nl(e,t){Tn(e,t)}function Cn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let oi=typeof DOMException<"u"?DOMException:void 0;function Ul(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Hl(){let e=function(i,l){this.message=i||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Gl=Ul(oi)?oi:Hl();function ii(e,t,i,l,c,d){let m=Ve(e),_=No(t);e._disturbed=!0;let P=!1,x=S(void 0);return T((W,F)=>{let M;if(d!==void 0){if(M=()=>{let R=new Gl("Aborted","AbortError"),O=[];l||O.push(()=>t._state==="writable"?or(t,R):S(void 0)),c||O.push(()=>e._state==="readable"?ae(e,R):S(void 0)),Y(()=>Promise.all(O.map(D=>D())),!0,R)},d.aborted){M();return}d.addEventListener("abort",M)}function le(){return T((R,O)=>{function D(J){J?R():b(et(),D,O)}D(!1)})}function et(){return P?S(!0):b(_._readyPromise,()=>T((R,O)=>{yt(m,{_chunkSteps:D=>{x=b(Qo(_,D),void 0,o),R(!1)},_closeSteps:()=>R(!0),_errorSteps:O})}))}if(ge(e,m._closedPromise,R=>{l?re(!0,R):Y(()=>or(t,R),!0,R)}),ge(t,_._closedPromise,R=>{c?re(!0,R):Y(()=>ae(e,R),!0,R)}),V(e,m._closedPromise,()=>{i?re():Y(()=>Il(_))}),fe(t)||t._state==="closed"){let R=new TypeError("the destination writable stream closed before all data could be piped to it");c?re(!0,R):Y(()=>ae(e,R),!0,R)}j(le());function ke(){let R=x;return b(x,()=>R!==x?ke():void 0)}function ge(R,O,D){R._state==="errored"?D(R._storedError):v(O,D)}function V(R,O,D){R._state==="closed"?D():A(O,D)}function Y(R,O,D){if(P)return;P=!0,t._state==="writable"&&!fe(t)?A(ke(),J):J();function J(){C(R(),()=>Se(O,D),tt=>Se(!0,tt))}}function re(R,O){P||(P=!0,t._state==="writable"&&!fe(t)?A(ke(),()=>Se(R,O)):Se(R,O))}function Se(R,O){Yo(_),pe(m),d!==void 0&&d.removeEventListener("abort",M),R?F(O):W(void 0)}})}class Ze{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!fr(this))throw hr("desiredSize");return En(this)}close(){if(!fr(this))throw hr("close");if(!Je(this))throw new TypeError("The stream is not in a state that permits close");vt(this)}enqueue(t=void 0){if(!fr(this))throw hr("enqueue");if(!Je(this))throw new TypeError("The stream is not in a state that permits enqueue");return mr(this,t)}error(t=void 0){if(!fr(this))throw hr("error");Pe(this,t)}[Jr](t){Ee(this);let i=this._cancelAlgorithm(t);return dr(this),i}[en](t){let i=this._controlledReadableStream;if(this._queue.length>0){let l=sn(this);this._closeRequested&&this._queue.length===0?(dr(this),Bt(i)):At(this),t._chunkSteps(l)}else go(i,t),At(this)}}Object.defineProperties(Ze.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ze.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function fr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof Ze}function At(e){if(!si(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();C(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,At(e))},l=>{Pe(e,l)})}function si(e){let t=e._controlledReadableStream;return!Je(e)||!e._started?!1:!!(Be(t)&&Gt(t)>0||En(e)>0)}function dr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function vt(e){if(!Je(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(dr(e),Bt(t))}function mr(e,t){if(!Je(e))return;let i=e._controlledReadableStream;if(Be(i)&&Gt(i)>0)on(i,t,!1);else{let l;try{l=e._strategySizeAlgorithm(t)}catch(c){throw Pe(e,c),c}try{an(e,t,l)}catch(c){throw Pe(e,c),c}}At(e)}function Pe(e,t){let i=e._controlledReadableStream;i._state==="readable"&&(Ee(e),dr(e),ci(i,t))}function En(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Vl(e){return!si(e)}function Je(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function ai(e,t,i,l,c,d,m){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=m,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,e._readableStreamController=t;let _=i();C(S(_),()=>{t._started=!0,At(t)},P=>{Pe(t,P)})}function Yl(e,t,i,l){let c=Object.create(Ze.prototype),d=()=>{},m=()=>S(void 0),_=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.pull!==void 0&&(m=()=>t.pull(c)),t.cancel!==void 0&&(_=P=>t.cancel(P)),ai(e,c,d,m,_,i,l)}function hr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Ql(e,t){return xe(e._readableStreamController)?Xl(e):Kl(e)}function Kl(e,t){let i=Ve(e),l=!1,c=!1,d=!1,m=!1,_,P,x,W,F,M=T(V=>{F=V});function le(){return l?(c=!0,S(void 0)):(l=!0,yt(i,{_chunkSteps:Y=>{B(()=>{c=!1;let re=Y,Se=Y;d||mr(x._readableStreamController,re),m||mr(W._readableStreamController,Se),l=!1,c&&le()})},_closeSteps:()=>{l=!1,d||vt(x._readableStreamController),m||vt(W._readableStreamController),(!d||!m)&&F(void 0)},_errorSteps:()=>{l=!1}}),S(void 0))}function et(V){if(d=!0,_=V,m){let Y=gt([_,P]),re=ae(e,Y);F(re)}return M}function ke(V){if(m=!0,P=V,d){let Y=gt([_,P]),re=ae(e,Y);F(re)}return M}function ge(){}return x=Pn(ge,le,et),W=Pn(ge,le,ke),v(i._closedPromise,V=>{Pe(x._readableStreamController,V),Pe(W._readableStreamController,V),(!d||!m)&&F(void 0)}),[x,W]}function Xl(e){let t=Ve(e),i=!1,l=!1,c=!1,d=!1,m=!1,_,P,x,W,F,M=T(R=>{F=R});function le(R){v(R._closedPromise,O=>{R===t&&(se(x._readableStreamController,O),se(W._readableStreamController,O),(!d||!m)&&F(void 0))})}function et(){We(t)&&(pe(t),t=Ve(e),le(t)),yt(t,{_chunkSteps:O=>{B(()=>{l=!1,c=!1;let D=O,J=O;if(!d&&!m)try{J=vo(O)}catch(tt){se(x._readableStreamController,tt),se(W._readableStreamController,tt),F(ae(e,tt));return}d||Zt(x._readableStreamController,D),m||Zt(W._readableStreamController,J),i=!1,l?ge():c&&V()})},_closeSteps:()=>{i=!1,d||_t(x._readableStreamController),m||_t(W._readableStreamController),x._readableStreamController._pendingPullIntos.length>0&&Jt(x._readableStreamController,0),W._readableStreamController._pendingPullIntos.length>0&&Jt(W._readableStreamController,0),(!d||!m)&&F(void 0)},_errorSteps:()=>{i=!1}})}function ke(R,O){Ce(t)&&(pe(t),t=Do(e),le(t));let D=O?W:x,J=O?x:W;Mo(t,R,{_chunkSteps:rt=>{B(()=>{l=!1,c=!1;let nt=O?m:d;if(O?d:m)nt||er(D._readableStreamController,rt);else{let Ti;try{Ti=vo(rt)}catch(vn){se(D._readableStreamController,vn),se(J._readableStreamController,vn),F(ae(e,vn));return}nt||er(D._readableStreamController,rt),Zt(J._readableStreamController,Ti)}i=!1,l?ge():c&&V()})},_closeSteps:rt=>{i=!1;let nt=O?m:d,Tr=O?d:m;nt||_t(D._readableStreamController),Tr||_t(J._readableStreamController),rt!==void 0&&(nt||er(D._readableStreamController,rt),!Tr&&J._readableStreamController._pendingPullIntos.length>0&&Jt(J._readableStreamController,0)),(!nt||!Tr)&&F(void 0)},_errorSteps:()=>{i=!1}})}function ge(){if(i)return l=!0,S(void 0);i=!0;let R=fn(x._readableStreamController);return R===null?et():ke(R._view,!1),S(void 0)}function V(){if(i)return c=!0,S(void 0);i=!0;let R=fn(W._readableStreamController);return R===null?et():ke(R._view,!0),S(void 0)}function Y(R){if(d=!0,_=R,m){let O=gt([_,P]),D=ae(e,O);F(D)}return M}function re(R){if(m=!0,P=R,d){let O=gt([_,P]),D=ae(e,O);F(D)}return M}function Se(){}return x=ui(Se,ge,Y),W=ui(Se,V,re),le(t),[x,W]}function Zl(e,t){be(e,t);let i=e,l=i?.autoAllocateChunkSize,c=i?.cancel,d=i?.pull,m=i?.start,_=i?.type;return{autoAllocateChunkSize:l===void 0?void 0:yo(l,`${t} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:Jl(c,i,`${t} has member 'cancel' that`),pull:d===void 0?void 0:eu(d,i,`${t} has member 'pull' that`),start:m===void 0?void 0:tu(m,i,`${t} has member 'start' that`),type:_===void 0?void 0:ru(_,`${t} has member 'type' that`)}}function Jl(e,t,i){return ie(e,i),l=>I(e,t,[l])}function eu(e,t,i){return ie(e,i),l=>I(e,t,[l])}function tu(e,t,i){return ie(e,i),l=>L(e,t,[l])}function ru(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function nu(e,t){be(e,t);let i=e?.mode;return{mode:i===void 0?void 0:ou(i,`${t} has member 'mode' that`)}}function ou(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function iu(e,t){be(e,t);let i=e?.preventCancel;return{preventCancel:Boolean(i)}}function li(e,t){be(e,t);let i=e?.preventAbort,l=e?.preventCancel,c=e?.preventClose,d=e?.signal;return d!==void 0&&su(d,`${t} has member 'signal' that`),{preventAbort:Boolean(i),preventCancel:Boolean(l),preventClose:Boolean(c),signal:d}}function su(e,t){if(!gl(e))throw new TypeError(`${t} is not an AbortSignal.`)}function au(e,t){be(e,t);let i=e?.readable;tn(i,"readable","ReadableWritablePair"),nn(i,`${t} has member 'readable' that`);let l=e?.writable;return tn(l,"writable","ReadableWritablePair"),jo(l,`${t} has member 'writable' that`),{readable:i,writable:l}}class Ae{constructor(t={},i={}){t===void 0?t=null:po(t,"First parameter");let l=nr(i,"Second parameter"),c=Zl(t,"First parameter");if(An(this),c.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let d=Tt(l,0);ul(this,c,d)}else{let d=rr(l),m=Tt(l,1);Yl(this,c,m,d)}}get locked(){if(!ve(this))throw De("locked");return Be(this)}cancel(t=void 0){return ve(this)?Be(this)?y(new TypeError("Cannot cancel a stream that already has a reader")):ae(this,t):y(De("cancel"))}getReader(t=void 0){if(!ve(this))throw De("getReader");return nu(t,"First parameter").mode===void 0?Ve(this):Do(this)}pipeThrough(t,i={}){if(!ve(this))throw De("pipeThrough");ye(t,1,"pipeThrough");let l=au(t,"First parameter"),c=li(i,"Second parameter");if(Be(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ke(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let d=ii(this,l.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return j(d),l.readable}pipeTo(t,i={}){if(!ve(this))return y(De("pipeTo"));if(t===void 0)return y("Parameter 1 is required in 'pipeTo'.");if(!Qe(t))return y(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=li(i,"Second parameter")}catch(c){return y(c)}return Be(this)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ke(t)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ii(this,t,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!ve(this))throw De("tee");let t=Ql(this);return gt(t)}values(t=void 0){if(!ve(this))throw De("values");let i=iu(t,"First parameter");return rl(this,i.preventCancel)}}Object.defineProperties(Ae.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ae.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Ae.prototype,r.asyncIterator,{value:Ae.prototype.values,writable:!0,configurable:!0});function Pn(e,t,i,l=1,c=()=>1){let d=Object.create(Ae.prototype);An(d);let m=Object.create(Ze.prototype);return ai(d,m,e,t,i,l,c),d}function ui(e,t,i){let l=Object.create(Ae.prototype);An(l);let c=Object.create(Ye.prototype);return Lo(l,c,e,t,i,0,void 0),l}function An(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ve(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Ae}function Be(e){return e._reader!==void 0}function ae(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return y(e._storedError);Bt(e);let i=e._reader;i!==void 0&&We(i)&&(i._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),i._readIntoRequests=new Z);let l=e._readableStreamController[Jr](t);return q(l,o)}function Bt(e){e._state="closed";let t=e._reader;t!==void 0&&(co(t),Ce(t)&&(t._readRequests.forEach(i=>{i._closeSteps()}),t._readRequests=new Z))}function ci(e,t){e._state="errored",e._storedError=t;let i=e._reader;i!==void 0&&(Zr(i,t),Ce(i)?(i._readRequests.forEach(l=>{l._errorSteps(t)}),i._readRequests=new Z):(i._readIntoRequests.forEach(l=>{l._errorSteps(t)}),i._readIntoRequests=new Z))}function De(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function fi(e,t){be(e,t);let i=e?.highWaterMark;return tn(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:rn(i)}}let di=e=>e.byteLength;try{Object.defineProperty(di,"name",{value:"size",configurable:!0})}catch{}class pr{constructor(t){ye(t,1,"ByteLengthQueuingStrategy"),t=fi(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!hi(this))throw mi("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!hi(this))throw mi("size");return di}}Object.defineProperties(pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(pr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function mi(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function hi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof pr}let pi=()=>1;try{Object.defineProperty(pi,"name",{value:"size",configurable:!0})}catch{}class br{constructor(t){ye(t,1,"CountQueuingStrategy"),t=fi(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!yi(this))throw bi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!yi(this))throw bi("size");return pi}}Object.defineProperties(br.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(br.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function bi(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function yi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof br}function lu(e,t){be(e,t);let i=e?.flush,l=e?.readableType,c=e?.start,d=e?.transform,m=e?.writableType;return{flush:i===void 0?void 0:uu(i,e,`${t} has member 'flush' that`),readableType:l,start:c===void 0?void 0:cu(c,e,`${t} has member 'start' that`),transform:d===void 0?void 0:fu(d,e,`${t} has member 'transform' that`),writableType:m}}function uu(e,t,i){return ie(e,i),l=>I(e,t,[l])}function cu(e,t,i){return ie(e,i),l=>L(e,t,[l])}function fu(e,t,i){return ie(e,i),(l,c)=>I(e,t,[l,c])}class yr{constructor(t={},i={},l={}){t===void 0&&(t=null);let c=nr(i,"Second parameter"),d=nr(l,"Third parameter"),m=lu(t,"First parameter");if(m.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(m.writableType!==void 0)throw new RangeError("Invalid writableType specified");let _=Tt(d,0),P=rr(d),x=Tt(c,1),W=rr(c),F,M=T(le=>{F=le});du(this,M,x,W,_,P),hu(this,m),m.start!==void 0?F(m.start(this._transformStreamController)):F(void 0)}get readable(){if(!gi(this))throw Ri("readable");return this._readable}get writable(){if(!gi(this))throw Ri("writable");return this._writable}}Object.defineProperties(yr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(yr.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function du(e,t,i,l,c,d){function m(){return t}function _(M){return yu(e,M)}function P(M){return gu(e,M)}function x(){return Su(e)}e._writable=wl(m,_,x,P,i,l);function W(){return _u(e)}function F(M){return Sr(e,M),S(void 0)}e._readable=Pn(m,W,F,c,d),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,_r(e,!0),e._transformStreamController=void 0}function gi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof yr}function gr(e,t){Pe(e._readable._readableStreamController,t),Sr(e,t)}function Sr(e,t){Si(e._transformStreamController),Sn(e._writable._writableStreamController,t),e._backpressure&&_r(e,!1)}function _r(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=T(i=>{e._backpressureChangePromise_resolve=i}),e._backpressure=t}class kt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!wr(this))throw Rr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return En(t)}enqueue(t=void 0){if(!wr(this))throw Rr("enqueue");_i(this,t)}error(t=void 0){if(!wr(this))throw Rr("error");pu(this,t)}terminate(){if(!wr(this))throw Rr("terminate");bu(this)}}Object.defineProperties(kt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(kt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function wr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof kt}function mu(e,t,i,l){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=i,t._flushAlgorithm=l}function hu(e,t){let i=Object.create(kt.prototype),l=d=>{try{return _i(i,d),S(void 0)}catch(m){return y(m)}},c=()=>S(void 0);t.transform!==void 0&&(l=d=>t.transform(d,i)),t.flush!==void 0&&(c=()=>t.flush(i)),mu(e,i,l,c)}function Si(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function _i(e,t){let i=e._controlledTransformStream,l=i._readable._readableStreamController;if(!Je(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{mr(l,t)}catch(d){throw Sr(i,d),i._readable._storedError}Vl(l)!==i._backpressure&&_r(i,!0)}function pu(e,t){gr(e._controlledTransformStream,t)}function wi(e,t){let i=e._transformAlgorithm(t);return q(i,void 0,l=>{throw gr(e._controlledTransformStream,l),l})}function bu(e){let t=e._controlledTransformStream,i=t._readable._readableStreamController;vt(i);let l=new TypeError("TransformStream terminated");Sr(t,l)}function yu(e,t){let i=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return q(l,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return wi(i,t)})}return wi(i,t)}function gu(e,t){return gr(e,t),S(void 0)}function Su(e){let t=e._readable,i=e._transformStreamController,l=i._flushAlgorithm();return Si(i),q(l,()=>{if(t._state==="errored")throw t._storedError;vt(t._readableStreamController)},c=>{throw gr(e,c),t._storedError})}function _u(e){return _r(e,!1),e._backpressureChangePromise}function Rr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Ri(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}n.ByteLengthQueuingStrategy=pr,n.CountQueuingStrategy=br,n.ReadableByteStreamController=Ye,n.ReadableStream=Ae,n.ReadableStreamBYOBReader=Rt,n.ReadableStreamBYOBRequest=St,n.ReadableStreamDefaultController=Ze,n.ReadableStreamDefaultReader=bt,n.TransformStream=yr,n.TransformStreamDefaultController=kt,n.WritableStream=Ct,n.WritableStreamDefaultController=Xe,n.WritableStreamDefaultWriter=Et,Object.defineProperty(n,"__esModule",{value:!0})})});var ha=k(()=>{if(!globalThis.ReadableStream)try{let n=require("node:process"),{emitWarning:r}=n;try{n.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),n.emitWarning=r}catch(o){throw n.emitWarning=r,o}}catch{Object.assign(globalThis,ma())}try{let{Blob:n}=require("buffer");n&&!n.prototype.stream&&(n.prototype.stream=function(o){let s=0,a=this;return new ReadableStream({type:"bytes",async pull(u){let p=await a.slice(s,Math.min(a.size,s+65536)).arrayBuffer();s+=p.byteLength,u.enqueue(new Uint8Array(p)),s===a.size&&u.close()}})})}catch{}});async function*Xn(n,r=!0){for(let o of n)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let s=o.byteOffset,a=o.byteOffset+o.byteLength;for(;s!==a;){let u=Math.min(a-s,pa),f=o.buffer.slice(s,s+u);s+=f.byteLength,yield new Uint8Array(f)}}else yield o;else{let s=0,a=o;for(;s!==a.size;){let f=await a.slice(s,Math.min(a.size,s+pa)).arrayBuffer();s+=f.byteLength,yield new Uint8Array(f)}}}var zd,pa,ba,Pf,_e,Lt=It(()=>{zd=ue(ha(),1);pa=65536;ba=class Zn{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let s=new TextEncoder;for(let u of r){let f;ArrayBuffer.isView(u)?f=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?f=new Uint8Array(u.slice(0)):u instanceof Zn?f=u:f=s.encode(`${u}`),this.#r+=ArrayBuffer.isView(f)?f.byteLength:f.size,this.#e.push(f)}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let a=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(a)?a:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let s of Xn(this.#e,!1))o+=r.decode(s,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let s of Xn(this.#e,!1))r.set(s,o),o+=s.length;return r.buffer}stream(){let r=Xn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let s=await r.next();s.done?o.close():o.enqueue(s.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,s=""){let{size:a}=this,u=r<0?Math.max(a+r,0):Math.min(r,a),f=o<0?Math.max(a+o,0):Math.min(o,a),p=Math.max(f-u,0),g=this.#e,h=[],w=0;for(let S of g){if(w>=p)break;let y=ArrayBuffer.isView(S)?S.byteLength:S.size;if(u&&y<=u)u-=y,f-=y;else{let b;ArrayBuffer.isView(S)?(b=S.subarray(u,Math.min(y,f)),w+=b.byteLength):(b=S.slice(u,Math.min(y,f)),w+=b.size),f-=y,h.push(b),u=0}}let T=new Zn([],{type:String(s).toLowerCase()});return T.#r=p,T.#e=h,T}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(ba.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Pf=ba,_e=Pf});var Af,vf,dt,Jn=It(()=>{Lt();Af=class extends _e{#e=0;#t="";constructor(r,o,s={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,s),s===null&&(s={});let a=s.lastModified===void 0?Date.now():Number(s.lastModified);Number.isNaN(a)||(this.#e=a),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof _e&&/^(File)$/.test(r[Symbol.toStringTag])}},vf=Af,dt=vf});function Sa(n,r=_e){var o=`${ya()}${ya()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),s=[],a=`--${o}\r
Content-Disposition: form-data; name="`;return n.forEach((u,f)=>typeof u=="string"?s.push(a+eo(f)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):s.push(a+eo(f)+`"; filename="${eo(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),s.push(`--${o}--`),new r(s,{type:"multipart/form-data; boundary="+o})}var Dt,Bf,kf,ya,If,ga,eo,je,Ne,Mr=It(()=>{Lt();Jn();({toStringTag:Dt,iterator:Bf,hasInstance:kf}=Symbol),ya=Math.random,If="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ga=(n,r,o)=>(n+="",/^(Blob|File)$/.test(r&&r[Dt])?[(o=o!==void 0?o+"":r[Dt]=="File"?r.name:"blob",n),r.name!==o||r[Dt]=="blob"?new dt([r],o,r):r]:[n,r+""]),eo=(n,r)=>(r?n:n.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),je=(n,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${n}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},Ne=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Dt](){return"FormData"}[Bf](){return this.entries()}static[kf](r){return r&&typeof r=="object"&&r[Dt]==="FormData"&&!If.some(o=>typeof r[o]!="function")}append(...r){je("append",arguments,2),this.#e.push(ga(...r))}delete(r){je("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){je("get",arguments,1),r+="";for(var o=this.#e,s=o.length,a=0;a<s;a++)if(o[a][0]===r)return o[a][1];return null}getAll(r,o){return je("getAll",arguments,1),o=[],r+="",this.#e.forEach(s=>s[0]===r&&o.push(s[1])),o}has(r){return je("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){je("forEach",arguments,1);for(var[s,a]of this)r.call(o,a,s,this)}set(...r){je("set",arguments,2);var o=[],s=!0;r=ga(...r),this.#e.forEach(a=>{a[0]===r[0]?s&&(s=!o.push(r)):o.push(a)}),s&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var Ca=k((Jd,Ta)=>{if(!globalThis.DOMException)try{let{MessageChannel:n}=require("worker_threads"),r=new n().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(n){n.constructor.name==="DOMException"&&(globalThis.DOMException=n.constructor)}Ta.exports=globalThis.DOMException});var zt,Ea,Of,Nr,ro=It(()=>{zt=require("node:fs"),Ea=ue(Ca(),1);Jn();Lt();({stat:Of}=zt.promises),Nr=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified}slice(r,o){return new Nr({path:this.#e,lastModified:this.lastModified,size:o-r,start:this.#t+r})}async*stream(){let{mtimeMs:r}=await Of(this.#e);if(r>this.lastModified)throw new Ea.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,zt.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Aa={};Ci(Aa,{toFormData:()=>$f});function Df(n){let r=n.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",s=o.slice(o.lastIndexOf("\\")+1);return s=s.replace(/%22/g,'"'),s=s.replace(/&#(\d{4});/g,(a,u)=>String.fromCharCode(u)),s}async function $f(n,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let s=new no(o[1]||o[2]),a,u,f,p,g,h,w=[],T=new Ne,S=v=>{f+=A.decode(v,{stream:!0})},y=v=>{w.push(v)},b=()=>{let v=new dt(w,h,{type:g});T.append(p,v)},C=()=>{T.append(p,f)},A=new TextDecoder("utf-8");A.decode(),s.onPartBegin=function(){s.onPartData=S,s.onPartEnd=C,a="",u="",f="",p="",g="",h=null,w.length=0},s.onHeaderField=function(v){a+=A.decode(v,{stream:!0})},s.onHeaderValue=function(v){u+=A.decode(v,{stream:!0})},s.onHeaderEnd=function(){if(u+=A.decode(),a=a.toLowerCase(),a==="content-disposition"){let v=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);v&&(p=v[2]||v[3]||""),h=Df(u),h&&(s.onPartData=y,s.onPartEnd=b)}else a==="content-type"&&(g=u);u="",a=""};for await(let v of n)s.write(v);return s.end(),T}var me,$,Pa,Ie,Ur,Hr,xf,Mt,qf,Wf,Ff,Lf,Ue,no,va=It(()=>{ro();Mr();me=0,$={START_BOUNDARY:me++,HEADER_FIELD_START:me++,HEADER_FIELD:me++,HEADER_VALUE_START:me++,HEADER_VALUE:me++,HEADER_VALUE_ALMOST_DONE:me++,HEADERS_ALMOST_DONE:me++,PART_DATA_START:me++,PART_DATA:me++,END:me++},Pa=1,Ie={PART_BOUNDARY:Pa,LAST_BOUNDARY:Pa*=2},Ur=10,Hr=13,xf=32,Mt=45,qf=58,Wf=97,Ff=122,Lf=n=>n|32,Ue=()=>{},no=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=Ue,this.onHeaderField=Ue,this.onHeadersEnd=Ue,this.onHeaderValue=Ue,this.onPartBegin=Ue,this.onPartData=Ue,this.onPartEnd=Ue,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let s=0;s<r.length;s++)o[s]=r.charCodeAt(s),this.boundaryChars[o[s]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=$.START_BOUNDARY}write(r){let o=0,s=r.length,a=this.index,{lookbehind:u,boundary:f,boundaryChars:p,index:g,state:h,flags:w}=this,T=this.boundary.length,S=T-1,y=r.length,b,C,A=B=>{this[B+"Mark"]=o},v=B=>{delete this[B+"Mark"]},q=(B,L,I,oe)=>{(L===void 0||L!==I)&&this[B](oe&&oe.subarray(L,I))},j=(B,L)=>{let I=B+"Mark";I in this&&(L?(q(B,this[I],o,r),delete this[I]):(q(B,this[I],r.length,r),this[I]=0))};for(o=0;o<s;o++)switch(b=r[o],h){case $.START_BOUNDARY:if(g===f.length-2){if(b===Mt)w|=Ie.LAST_BOUNDARY;else if(b!==Hr)return;g++;break}else if(g-1===f.length-2){if(w&Ie.LAST_BOUNDARY&&b===Mt)h=$.END,w=0;else if(!(w&Ie.LAST_BOUNDARY)&&b===Ur)g=0,q("onPartBegin"),h=$.HEADER_FIELD_START;else return;break}b!==f[g+2]&&(g=-2),b===f[g+2]&&g++;break;case $.HEADER_FIELD_START:h=$.HEADER_FIELD,A("onHeaderField"),g=0;case $.HEADER_FIELD:if(b===Hr){v("onHeaderField"),h=$.HEADERS_ALMOST_DONE;break}if(g++,b===Mt)break;if(b===qf){if(g===1)return;j("onHeaderField",!0),h=$.HEADER_VALUE_START;break}if(C=Lf(b),C<Wf||C>Ff)return;break;case $.HEADER_VALUE_START:if(b===xf)break;A("onHeaderValue"),h=$.HEADER_VALUE;case $.HEADER_VALUE:b===Hr&&(j("onHeaderValue",!0),q("onHeaderEnd"),h=$.HEADER_VALUE_ALMOST_DONE);break;case $.HEADER_VALUE_ALMOST_DONE:if(b!==Ur)return;h=$.HEADER_FIELD_START;break;case $.HEADERS_ALMOST_DONE:if(b!==Ur)return;q("onHeadersEnd"),h=$.PART_DATA_START;break;case $.PART_DATA_START:h=$.PART_DATA,A("onPartData");case $.PART_DATA:if(a=g,g===0){for(o+=S;o<y&&!(r[o]in p);)o+=T;o-=S,b=r[o]}if(g<f.length)f[g]===b?(g===0&&j("onPartData",!0),g++):g=0;else if(g===f.length)g++,b===Hr?w|=Ie.PART_BOUNDARY:b===Mt?w|=Ie.LAST_BOUNDARY:g=0;else if(g-1===f.length)if(w&Ie.PART_BOUNDARY){if(g=0,b===Ur){w&=~Ie.PART_BOUNDARY,q("onPartEnd"),q("onPartBegin"),h=$.HEADER_FIELD_START;break}}else w&Ie.LAST_BOUNDARY&&b===Mt?(q("onPartEnd"),h=$.END,w=0):g=0;if(g>0)u[g-1]=b;else if(a>0){let B=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);q("onPartData",0,a,B),a=0,A("onPartData"),o--}break;case $.END:break;default:throw new Error(`Unexpected state entered: ${h}`)}j("onHeaderField"),j("onHeaderValue"),j("onPartData"),this.index=g,this.state=h,this.flags=w}end(){if(this.state===$.HEADER_FIELD_START&&this.index===0||this.state===$.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==$.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var Vf={};Ci(Vf,{default:()=>Qa});module.exports=Pu(Vf);var Oe=require("react"),E=require("@raycast/api");var wf=ue(require("react"),1),Rf=require("react");var ua=ue(require("node:process"),1),ca=ue(la(),1);async function Yn(n){if(ua.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,ca.default)("osascript",["-e",n]);return r}var Tf=require("@raycast/api");var Qn=require("@raycast/api"),Me=require("react");function Dr(n,r){let[o,s]=(0,Me.useState)(!0),[a,u]=(0,Me.useState)(r);(0,Me.useEffect)(()=>{let p=!1;return(async()=>{let g=await Qn.LocalStorage.getItem(n);typeof g=="string"&&(p||u(JSON.parse(g))),s(!1)})(),()=>{p=!0}},[]);let f=(0,Me.useCallback)(p=>{u(g=>{let h=typeof p=="function"?p(g):p;return Qn.LocalStorage.setItem(n,JSON.stringify(h)),h})},[]);return[a,f,o]}var $r="https://getshellbuddy.com",Kn=$r+"/credits";var pt=require("@raycast/api");var Na=ue(require("node:http"),1),Ua=ue(require("node:https"),1),He=ue(require("node:zlib"),1),te=ue(require("node:stream"),1),Ut=require("node:buffer");function Ef(n){if(!/^data:/i.test(n))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');n=n.replace(/\r?\n/g,"");let r=n.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=n.substring(5,r).split(";"),s="",a=!1,u=o[0]||"text/plain",f=u;for(let w=1;w<o.length;w++)o[w]==="base64"?a=!0:(f+=`;${o[w]}`,o[w].indexOf("charset=")===0&&(s=o[w].substring(8)));!o[0]&&!s.length&&(f+=";charset=US-ASCII",s="US-ASCII");let p=a?"base64":"ascii",g=unescape(n.substring(r+1)),h=Buffer.from(g,p);return h.type=u,h.typeFull=f,h.charset=s,h}var fa=Ef;var ne=ue(require("node:stream"),1),Re=require("node:util"),ee=require("node:buffer");Lt();Mr();var we=class extends Error{constructor(r,o){super(r),Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var Q=class extends we{constructor(r,o,s){super(r,o),s&&(this.code=this.errno=s.code,this.erroredSysCall=s.syscall)}};var jr=Symbol.toStringTag,to=n=>typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&typeof n.sort=="function"&&n[jr]==="URLSearchParams",$t=n=>n&&typeof n=="object"&&typeof n.arrayBuffer=="function"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.constructor=="function"&&/^(Blob|File)$/.test(n[jr]),_a=n=>typeof n=="object"&&(n[jr]==="AbortSignal"||n[jr]==="EventTarget"),wa=(n,r)=>{let o=new URL(r).hostname,s=new URL(n).hostname;return o===s||o.endsWith(`.${s}`)},Ra=(n,r)=>{let o=new URL(r).protocol,s=new URL(n).protocol;return o===s};var zf=(0,Re.promisify)(ne.default.pipeline),K=Symbol("Body internals"),he=class{constructor(r,{size:o=0}={}){let s=null;r===null?r=null:to(r)?r=ee.Buffer.from(r.toString()):$t(r)||ee.Buffer.isBuffer(r)||(Re.types.isAnyArrayBuffer(r)?r=ee.Buffer.from(r):ArrayBuffer.isView(r)?r=ee.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ne.default||(r instanceof Ne?(r=Sa(r),s=r.type.split("=")[1]):r=ee.Buffer.from(String(r))));let a=r;ee.Buffer.isBuffer(r)?a=ne.default.Readable.from(r):$t(r)&&(a=ne.default.Readable.from(r.stream())),this[K]={body:r,stream:a,boundary:s,disturbed:!1,error:null},this.size=o,r instanceof ne.default&&r.on("error",u=>{let f=u instanceof we?u:new Q(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[K].error=f})}get body(){return this[K].stream}get bodyUsed(){return this[K].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:s}=await oo(this);return r.slice(o,o+s)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let s=new Ne,a=new URLSearchParams(await this.text());for(let[u,f]of a)s.append(u,f);return s}let{toFormData:o}=await Promise.resolve().then(()=>(va(),Aa));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[K].body&&this[K].body.type||"",o=await this.arrayBuffer();return new _e([o],{type:r})}async json(){let r=await this.text();return JSON.parse(r)}async text(){let r=await oo(this);return new TextDecoder().decode(r)}buffer(){return oo(this)}};he.prototype.buffer=(0,Re.deprecate)(he.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(he.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Re.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function oo(n){if(n[K].disturbed)throw new TypeError(`body used already for: ${n.url}`);if(n[K].disturbed=!0,n[K].error)throw n[K].error;let{body:r}=n;if(r===null)return ee.Buffer.alloc(0);if(!(r instanceof ne.default))return ee.Buffer.alloc(0);let o=[],s=0;try{for await(let a of r){if(n.size>0&&s+a.length>n.size){let u=new Q(`content size at ${n.url} over limit: ${n.size}`,"max-size");throw r.destroy(u),u}s+=a.length,o.push(a)}}catch(a){throw a instanceof we?a:new Q(`Invalid response body while trying to fetch ${n.url}: ${a.message}`,"system",a)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(a=>typeof a=="string")?ee.Buffer.from(o.join("")):ee.Buffer.concat(o,s)}catch(a){throw new Q(`Could not create Buffer from response body for ${n.url}: ${a.message}`,"system",a)}else throw new Q(`Premature close of server response while trying to fetch ${n.url}`)}var mt=(n,r)=>{let o,s,{body:a}=n[K];if(n.bodyUsed)throw new Error("cannot clone body after it is used");return a instanceof ne.default&&typeof a.getBoundary!="function"&&(o=new ne.PassThrough({highWaterMark:r}),s=new ne.PassThrough({highWaterMark:r}),a.pipe(o),a.pipe(s),n[K].stream=o,a=s),a},Mf=(0,Re.deprecate)(n=>n.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Gr=(n,r)=>n===null?null:typeof n=="string"?"text/plain;charset=UTF-8":to(n)?"application/x-www-form-urlencoded;charset=UTF-8":$t(n)?n.type||null:ee.Buffer.isBuffer(n)||Re.types.isAnyArrayBuffer(n)||ArrayBuffer.isView(n)?null:n instanceof Ne?`multipart/form-data; boundary=${r[K].boundary}`:n&&typeof n.getBoundary=="function"?`multipart/form-data;boundary=${Mf(n)}`:n instanceof ne.default?null:"text/plain;charset=UTF-8",Ba=n=>{let{body:r}=n[K];return r===null?0:$t(r)?r.size:ee.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},ka=async(n,{body:r})=>{r===null?n.end():await zf(r,n)};var io=require("node:util"),jt=ue(require("node:http"),1),Vr=typeof jt.default.validateHeaderName=="function"?jt.default.validateHeaderName:n=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(n)){let r=new TypeError(`Header name must be a valid HTTP token [${n}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},so=typeof jt.default.validateHeaderValue=="function"?jt.default.validateHeaderValue:(n,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${n}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},X=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof X){let s=r.raw();for(let[a,u]of Object.entries(s))o.push(...u.map(f=>[a,f]))}else if(r!=null)if(typeof r=="object"&&!io.types.isBoxedPrimitive(r)){let s=r[Symbol.iterator];if(s==null)o.push(...Object.entries(r));else{if(typeof s!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(a=>{if(typeof a!="object"||io.types.isBoxedPrimitive(a))throw new TypeError("Each header pair must be an iterable object");return[...a]}).map(a=>{if(a.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...a]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");return o=o.length>0?o.map(([s,a])=>(Vr(s),so(s,String(a)),[String(s).toLowerCase(),String(a)])):void 0,super(o),new Proxy(this,{get(s,a,u){switch(a){case"append":case"set":return(f,p)=>(Vr(f),so(f,String(p)),URLSearchParams.prototype[a].call(s,String(f).toLowerCase(),String(p)));case"delete":case"has":case"getAll":return f=>(Vr(f),URLSearchParams.prototype[a].call(s,String(f).toLowerCase()));case"keys":return()=>(s.sort(),new Set(URLSearchParams.prototype.keys.call(s)).keys());default:return Reflect.get(s,a,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let s=o.join(", ");return/^content-encoding$/i.test(r)&&(s=s.toLowerCase()),s}forEach(r,o=void 0){for(let s of this.keys())Reflect.apply(r,o,[this.get(s),s,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let s=this.getAll(o);return o==="host"?r[o]=s[0]:r[o]=s.length>1?s:s[0],r},{})}};Object.defineProperties(X.prototype,["get","entries","forEach","values"].reduce((n,r)=>(n[r]={enumerable:!0},n),{}));function Ia(n=[]){return new X(n.reduce((r,o,s,a)=>(s%2===0&&r.push(a.slice(s,s+2)),r),[]).filter(([r,o])=>{try{return Vr(r),so(r,String(o)),!0}catch{return!1}}))}var jf=new Set([301,302,303,307,308]),Yr=n=>jf.has(n);var ce=Symbol("Response internals"),G=class extends he{constructor(r=null,o={}){super(r,o);let s=o.status!=null?o.status:200,a=new X(o.headers);if(r!==null&&!a.has("Content-Type")){let u=Gr(r,this);u&&a.append("Content-Type",u)}this[ce]={type:"default",url:o.url,status:s,statusText:o.statusText||"",headers:a,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[ce].type}get url(){return this[ce].url||""}get status(){return this[ce].status}get ok(){return this[ce].status>=200&&this[ce].status<300}get redirected(){return this[ce].counter>0}get statusText(){return this[ce].statusText}get headers(){return this[ce].headers}get highWaterMark(){return this[ce].highWaterMark}clone(){return new G(mt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!Yr(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new G(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new G(null,{status:0,statusText:""});return r[ce].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(G.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var za=require("node:url"),Ma=require("node:util");var Oa=n=>{if(n.search)return n.search;let r=n.href.length-1,o=n.hash||(n.href[r]==="#"?"#":"");return n.href[r-o.length]==="?"?"?":""};var qa=require("node:net");function xa(n,r=!1){return n==null||(n=new URL(n),/^(about|blob|data):$/.test(n.protocol))?"no-referrer":(n.username="",n.password="",n.hash="",r&&(n.pathname="",n.search=""),n)}var Wa=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Fa="strict-origin-when-cross-origin";function La(n){if(!Wa.has(n))throw new TypeError(`Invalid referrerPolicy: ${n}`);return n}function Nf(n){if(/^(http|ws)s:$/.test(n.protocol))return!0;let r=n.host.replace(/(^\[)|(]$)/g,""),o=(0,qa.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:n.host==="localhost"||n.host.endsWith(".localhost")?!1:n.protocol==="file:"}function ht(n){return/^about:(blank|srcdoc)$/.test(n)||n.protocol==="data:"||/^(blob|filesystem):$/.test(n.protocol)?!0:Nf(n)}function Da(n,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(n.referrer==="no-referrer"||n.referrerPolicy==="")return null;let s=n.referrerPolicy;if(n.referrer==="about:client")return"no-referrer";let a=n.referrer,u=xa(a),f=xa(a,!0);u.toString().length>4096&&(u=f),r&&(u=r(u)),o&&(f=o(f));let p=new URL(n.url);switch(s){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return u;case"strict-origin":return ht(u)&&!ht(p)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return u.origin===p.origin?u:ht(u)&&!ht(p)?"no-referrer":f;case"same-origin":return u.origin===p.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===p.origin?u:f;case"no-referrer-when-downgrade":return ht(u)&&!ht(p)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${s}`)}}function $a(n){let r=(n.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let s of r)s&&Wa.has(s)&&(o=s);return o}var U=Symbol("Request internals"),Nt=n=>typeof n=="object"&&typeof n[U]=="object",Uf=(0,Ma.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Te=class extends he{constructor(r,o={}){let s;if(Nt(r)?s=new URL(r.url):(s=new URL(r),r={}),s.username!==""||s.password!=="")throw new TypeError(`${s} is an url with embedded credentials.`);let a=o.method||r.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(a)&&(a=a.toUpperCase()),!Nt(o)&&"data"in o&&Uf(),(o.body!=null||Nt(r)&&r.body!==null)&&(a==="GET"||a==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:Nt(r)&&r.body!==null?mt(r):null;super(u,{size:o.size||r.size||0});let f=new X(o.headers||r.headers||{});if(u!==null&&!f.has("Content-Type")){let h=Gr(u,this);h&&f.set("Content-Type",h)}let p=Nt(r)?r.signal:null;if("signal"in o&&(p=o.signal),p!=null&&!_a(p))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let g=o.referrer==null?r.referrer:o.referrer;if(g==="")g="no-referrer";else if(g){let h=new URL(g);g=/^about:(\/\/)?client$/.test(h)?"client":h}else g=void 0;this[U]={method:a,redirect:o.redirect||r.redirect||"follow",headers:f,parsedURL:s,signal:p,referrer:g},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[U].method}get url(){return(0,za.format)(this[U].parsedURL)}get headers(){return this[U].headers}get redirect(){return this[U].redirect}get signal(){return this[U].signal}get referrer(){if(this[U].referrer==="no-referrer")return"";if(this[U].referrer==="client")return"about:client";if(this[U].referrer)return this[U].referrer.toString()}get referrerPolicy(){return this[U].referrerPolicy}set referrerPolicy(r){this[U].referrerPolicy=La(r)}clone(){return new Te(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Te.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var ja=n=>{let{parsedURL:r}=n[U],o=new X(n[U].headers);o.has("Accept")||o.set("Accept","*/*");let s=null;if(n.body===null&&/^(post|put)$/i.test(n.method)&&(s="0"),n.body!==null){let p=Ba(n);typeof p=="number"&&!Number.isNaN(p)&&(s=String(p))}s&&o.set("Content-Length",s),n.referrerPolicy===""&&(n.referrerPolicy=Fa),n.referrer&&n.referrer!=="no-referrer"?n[U].referrer=Da(n):n[U].referrer="no-referrer",n[U].referrer instanceof URL&&o.set("Referer",n.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),n.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip, deflate, br");let{agent:a}=n;typeof a=="function"&&(a=a(r)),!o.has("Connection")&&!a&&o.set("Connection","close");let u=Oa(r),f={path:r.pathname+u,method:n.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:n.insecureHTTPParser,agent:a};return{parsedURL:r,options:f}};var Qr=class extends we{constructor(r,o="aborted"){super(r,o)}};Mr();ro();var Hf=new Set(["data:","http:","https:"]);async function Ht(n,r){return new Promise((o,s)=>{let a=new Te(n,r),{parsedURL:u,options:f}=ja(a);if(!Hf.has(u.protocol))throw new TypeError(`node-fetch cannot load ${n}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let b=fa(a.url),C=new G(b,{headers:{"Content-Type":b.typeFull}});o(C);return}let p=(u.protocol==="https:"?Ua.default:Na.default).request,{signal:g}=a,h=null,w=()=>{let b=new Qr("The operation was aborted.");s(b),a.body&&a.body instanceof te.default.Readable&&a.body.destroy(b),!(!h||!h.body)&&h.body.emit("error",b)};if(g&&g.aborted){w();return}let T=()=>{w(),y()},S=p(u.toString(),f);g&&g.addEventListener("abort",T);let y=()=>{S.abort(),g&&g.removeEventListener("abort",T)};S.on("error",b=>{s(new Q(`request to ${a.url} failed, reason: ${b.message}`,"system",b)),y()}),Gf(S,b=>{h&&h.body&&h.body.destroy(b)}),process.version<"v14"&&S.on("socket",b=>{let C;b.prependListener("end",()=>{C=b._eventsCount}),b.prependListener("close",A=>{if(h&&C<b._eventsCount&&!A){let v=new Error("Premature close");v.code="ERR_STREAM_PREMATURE_CLOSE",h.body.emit("error",v)}})}),S.on("response",b=>{S.setTimeout(0);let C=Ia(b.rawHeaders);if(Yr(b.statusCode)){let B=C.get("Location"),L=null;try{L=B===null?null:new URL(B,a.url)}catch{if(a.redirect!=="manual"){s(new Q(`uri requested responds with an invalid redirect URL: ${B}`,"invalid-redirect")),y();return}}switch(a.redirect){case"error":s(new Q(`uri requested responds with a redirect, redirect mode is set to error: ${a.url}`,"no-redirect")),y();return;case"manual":break;case"follow":{if(L===null)break;if(a.counter>=a.follow){s(new Q(`maximum redirect reached at: ${a.url}`,"max-redirect")),y();return}let I={headers:new X(a.headers),follow:a.follow,counter:a.counter+1,agent:a.agent,compress:a.compress,method:a.method,body:mt(a),signal:a.signal,size:a.size,referrer:a.referrer,referrerPolicy:a.referrerPolicy};if(!wa(a.url,L)||!Ra(a.url,L))for(let Z of["authorization","www-authenticate","cookie","cookie2"])I.headers.delete(Z);if(b.statusCode!==303&&a.body&&r.body instanceof te.default.Readable){s(new Q("Cannot follow redirect with body being a readable stream","unsupported-redirect")),y();return}(b.statusCode===303||(b.statusCode===301||b.statusCode===302)&&a.method==="POST")&&(I.method="GET",I.body=void 0,I.headers.delete("content-length"));let oe=$a(C);oe&&(I.referrerPolicy=oe),o(Ht(new Te(L,I))),y();return}default:return s(new TypeError(`Redirect option '${a.redirect}' is not a valid value of RequestRedirect`))}}g&&b.once("end",()=>{g.removeEventListener("abort",T)});let A=(0,te.pipeline)(b,new te.PassThrough,B=>{B&&s(B)});process.version<"v12.10"&&b.on("aborted",T);let v={url:a.url,status:b.statusCode,statusText:b.statusMessage,headers:C,size:a.size,counter:a.counter,highWaterMark:a.highWaterMark},q=C.get("Content-Encoding");if(!a.compress||a.method==="HEAD"||q===null||b.statusCode===204||b.statusCode===304){h=new G(A,v),o(h);return}let j={flush:He.default.Z_SYNC_FLUSH,finishFlush:He.default.Z_SYNC_FLUSH};if(q==="gzip"||q==="x-gzip"){A=(0,te.pipeline)(A,He.default.createGunzip(j),B=>{B&&s(B)}),h=new G(A,v),o(h);return}if(q==="deflate"||q==="x-deflate"){let B=(0,te.pipeline)(b,new te.PassThrough,L=>{L&&s(L)});B.once("data",L=>{(L[0]&15)===8?A=(0,te.pipeline)(A,He.default.createInflate(),I=>{I&&s(I)}):A=(0,te.pipeline)(A,He.default.createInflateRaw(),I=>{I&&s(I)}),h=new G(A,v),o(h)}),B.once("end",()=>{h||(h=new G(A,v),o(h))});return}if(q==="br"){A=(0,te.pipeline)(A,He.default.createBrotliDecompress(),B=>{B&&s(B)}),h=new G(A,v),o(h);return}h=new G(A,v),o(h)}),ka(S,a).catch(s)})}function Gf(n,r){let o=Ut.Buffer.from(`0\r
\r
`),s=!1,a=!1,u;n.on("response",f=>{let{headers:p}=f;s=p["transfer-encoding"]==="chunked"&&!p["content-length"]}),n.on("socket",f=>{let p=()=>{if(s&&!a){let h=new Error("Premature close");h.code="ERR_STREAM_PREMATURE_CLOSE",r(h)}},g=h=>{a=Ut.Buffer.compare(h.slice(-5),o)===0,!a&&u&&(a=Ut.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&Ut.Buffer.compare(h.slice(-2),o.slice(3))===0),u=h};f.prependListener("close",p),f.on("data",g),n.on("close",()=>{f.removeListener("close",p),f.removeListener("data",g)})})}async function Ha(){try{let{license:n}=(0,pt.getPreferenceValues)();return await(await Ht(`${$r}/api/credits?l=${encodeURIComponent(n.trim())}`)).json()}catch{return{success:!1,title:"Server error",remainingCredits:0}}}async function Ga(n){let{license:r}=(0,pt.getPreferenceValues)();try{return await(await Ht(`${$r}/api/convert?p=${encodeURIComponent(n)}&l=${encodeURIComponent(r.trim())}`)).json()}catch{return{success:!1,title:"Server error"}}}async function ao(){let n=await pt.LocalStorage.getItem("known-prompts");return n?JSON.parse(n):{}}async function Va(n,r){let o=await ao();await pt.LocalStorage.setItem("known-prompts",JSON.stringify({...o,[n]:r}))}async function Ya(n){let r=`
  tell application "Terminal"
    do script "${n.replaceAll('"','\\"')}"
    activate
  end tell
  `;Yn(r)}var H=require("react/jsx-runtime");function Qa(n){let{prompt:r}=n.arguments,[o,s]=Dr("history",void 0),[a,u]=Dr("credits",1),[f,p]=(0,Oe.useState)(r??""),[g,h]=(0,Oe.useState)(!1),w=(y,b)=>{s(C=>C?[...C,{prompt:y,command:b}]:[{prompt:y,command:b}])},T=async y=>{let b=await(0,E.showToast)({style:E.Toast.Style.Animated,title:"Converting Prompt"});if(h(!0),y.length<2){b.style=E.Toast.Style.Failure,b.title="Error",b.message="Please enter a valid prompt",h(!1);return}let C=y.toLowerCase(),v=(await ao())?.[C];if(v){w(y,v),b.style=E.Toast.Style.Success,b.title="Known prompt retrieved",b.message="No credit used",h(!1);return}let{success:q,command:j,title:B,message:L,remainingCredits:I}=await Ga(y);q?(p(""),w(y,j),u(I),await Va(C,j)):I&&u(I),b.style=q?E.Toast.Style.Success:E.Toast.Style.Failure,b.title=B,L&&(b.message=L),h(!1)},S=(0,Oe.useMemo)(()=>o===void 0?o:[...o].reverse(),[o]);return(0,Oe.useEffect)(()=>{Ha().then(y=>{y.success||(0,E.showToast)({style:E.Toast.Style.Failure,title:y.title}),u(y.remainingCredits)})},[]),(0,Oe.useEffect)(()=>{r&&r.length>0&&T(r)},[r]),(0,H.jsx)(E.List,{enableFiltering:!1,onSearchTextChange:p,searchBarPlaceholder:"Create a new nextjs project",searchText:f,isLoading:g,actions:(0,H.jsxs)(E.ActionPanel,{children:[a>0?(0,H.jsx)(E.Action,{title:`Convert Prompt (${a} credits left)`,icon:E.Icon.Lowercase,onAction:()=>T(f)}):(0,H.jsx)(E.Action.OpenInBrowser,{title:"Purchase more credits",url:Kn}),(0,H.jsx)(E.Action,{title:"Enter New License Key",icon:E.Icon.Key,shortcut:{modifiers:["cmd"],key:"l"},onAction:()=>(0,E.openCommandPreferences)()})]}),children:(0,H.jsxs)(E.List.Section,{title:"Command History",children:[g&&(0,H.jsx)(E.List.Item,{title:"Hang on, converting your prompt ...",icon:E.Icon.Terminal,subtitle:f}),S?.map((y,b)=>(0,H.jsx)(E.List.Item,{title:y.command,icon:E.Icon.Terminal,subtitle:y.prompt,actions:(0,H.jsxs)(E.ActionPanel,{title:"Shell Buddy Actions",children:[(0,H.jsx)(E.ActionPanel.Section,{children:a>0?(0,H.jsx)(E.Action,{title:`Convert Prompt (${a} credits left)`,icon:E.Icon.Lowercase,onAction:()=>T(f)}):(0,H.jsx)(E.Action.OpenInBrowser,{title:"Purchase more credits",url:Kn})}),(0,H.jsxs)(E.ActionPanel.Section,{children:[(0,H.jsx)(E.Action,{title:"Execute in Terminal",icon:E.Icon.Terminal,shortcut:{modifiers:["cmd"],key:"return"},onAction:()=>{(0,E.closeMainWindow)(),Ya(y.command)}}),(0,H.jsx)(E.Action.CopyToClipboard,{title:"Copy Command to Clipboard",content:y.command,shortcut:{modifiers:["cmd"],key:"j"}})]}),(0,H.jsx)(E.ActionPanel.Section,{children:(0,H.jsx)(E.Action,{title:"Enter New License Key",icon:E.Icon.Key,shortcut:{modifiers:["cmd"],key:"l"},onAction:()=>(0,E.openCommandPreferences)()})})]})},b))]})})}0&&(module.exports={});
/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
